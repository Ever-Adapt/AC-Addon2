<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Archicad C++ API: Database Manager</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>



<link href="doxygen.css" rel="stylesheet" type="text/css" />

</head>
<body>


<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  
  
  <td id="projectalign">
   <div id="projectname">Archicad C++ API
   </div>
   
  </td>
  
  
  
 </tr>
  
   
  
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___database.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Database Manager</div></div>
</div><!--header-->
<div class="contents">

<p>Functions related to the Database Manager, creating, manupulating and switching between different databases.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___region.html">API_Region</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polygonal or rectangular region of the model.  <a href="struct_a_p_i___region.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identification parameters of a Section, Detail, Interior Elevation, Worksheet, Master Layout, Layout, and 3D Document window or window related database.  <a href="struct_a_p_i___database_un_id.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___clip_tran.html">API_ClipTran</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a transformation for the clipping.  <a href="struct_a_p_i___clip_tran.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds information on elements and custom checksums that should be validated for the window.  <a href="struct_a_p_i___window_validator_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa335be9a8c110f83d4cbfa2e0897acbc"><td class="memItemLeft" align="right" valign="top">typedef GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gaa335be9a8c110f83d4cbfa2e0897acbc">APICustomWindowHandlerProc</a>(const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;userRefId, API_NotifyWindowEventID notifID)</td></tr>
<tr class="memdesc:gaa335be9a8c110f83d4cbfa2e0897acbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">User supplied callback function for handling events in windows opened by the add-on.  <br /></td></tr>
<tr class="separator:gaa335be9a8c110f83d4cbfa2e0897acbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38bea73a6617d9591c2035d9a37c2c34"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> = <a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a></td></tr>
<tr class="memdesc:ga38bea73a6617d9591c2035d9a37c2c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identification parameters of a project database.  <br /></td></tr>
<tr class="separator:ga38bea73a6617d9591c2035d9a37c2c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafa2629d5f6a404eeaf99dc1f7a728125"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gafa2629d5f6a404eeaf99dc1f7a728125">ACAPI_Window_GetCurrentWindow</a> (<a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *windowInfo)</td></tr>
<tr class="memdesc:gafa2629d5f6a404eeaf99dc1f7a728125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the identifier of the current (active) window.  <br /></td></tr>
<tr class="separator:gafa2629d5f6a404eeaf99dc1f7a728125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6825ddb26e6e2e9dca053c1f3e672bff"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#ga6825ddb26e6e2e9dca053c1f3e672bff">ACAPI_Window_ResetCurrentWindow</a> ()</td></tr>
<tr class="memdesc:ga6825ddb26e6e2e9dca053c1f3e672bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the database elements of the current window and sets up a new, empty environment.  <br /></td></tr>
<tr class="separator:ga6825ddb26e6e2e9dca053c1f3e672bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga855edb2d9b65a501b62517523a1bcbfd"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#ga855edb2d9b65a501b62517523a1bcbfd">ACAPI_Window_NewWindow</a> (<a class="el" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a> *newWindowPars, <a class="el" href="group___window.html#gaa335be9a8c110f83d4cbfa2e0897acbc">APICustomWindowHandlerProc</a> *handlerProc=nullptr)</td></tr>
<tr class="memdesc:ga855edb2d9b65a501b62517523a1bcbfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a new window.  <br /></td></tr>
<tr class="separator:ga855edb2d9b65a501b62517523a1bcbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa46a73654f1799f7d2f8c2c1dc3bdeae"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gaa46a73654f1799f7d2f8c2c1dc3bdeae">ACAPI_Window_CloseWindow</a> (<a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *windowInfo)</td></tr>
<tr class="memdesc:gaa46a73654f1799f7d2f8c2c1dc3bdeae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a window.  <br /></td></tr>
<tr class="separator:gaa46a73654f1799f7d2f8c2c1dc3bdeae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65c104bf4610c9842dd7901890a5f3a4"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#ga65c104bf4610c9842dd7901890a5f3a4">ACAPI_Window_GetOwnWindows</a> (<a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_WindowTypeID</a> *windowTypeID, GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *guid=nullptr)</td></tr>
<tr class="memdesc:ga65c104bf4610c9842dd7901890a5f3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ids of the opened windows in an array.  <br /></td></tr>
<tr class="separator:ga65c104bf4610c9842dd7901890a5f3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga877f057e06ca2a783ead99fc244800fe"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga877f057e06ca2a783ead99fc244800fe">ACAPI_Database_GetCurrentDatabase</a> (<a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:ga877f057e06ca2a783ead99fc244800fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the identifier of the current (active) database.  <br /></td></tr>
<tr class="separator:ga877f057e06ca2a783ead99fc244800fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b866ca813e8ce7f3662dcfd406f6bdc"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga9b866ca813e8ce7f3662dcfd406f6bdc">ACAPI_Window_ResetCurrentDatabase</a> ()</td></tr>
<tr class="memdesc:ga9b866ca813e8ce7f3662dcfd406f6bdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the database elements of the current window and sets up a new, empty environment.  <br /></td></tr>
<tr class="separator:ga9b866ca813e8ce7f3662dcfd406f6bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9976d9eff32e38fa183578f111717f2"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gaa9976d9eff32e38fa183578f111717f2">ACAPI_Database_ChangeCurrentDatabase</a> (<a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:gaa9976d9eff32e38fa183578f111717f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the current (active) database.  <br /></td></tr>
<tr class="separator:gaa9976d9eff32e38fa183578f111717f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac724de582a4a8613694c56affae8912a"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gac724de582a4a8613694c56affae8912a">ACAPI_Database_RedrawCurrentDatabase</a> ()</td></tr>
<tr class="memdesc:gac724de582a4a8613694c56affae8912a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redraws the current database, even it's associated window is in the background.  <br /></td></tr>
<tr class="separator:gac724de582a4a8613694c56affae8912a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga422caa4d4412d60c41a9c2d0df01d126"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga422caa4d4412d60c41a9c2d0df01d126">ACAPI_Database_RebuildCurrentDatabase</a> ()</td></tr>
<tr class="memdesc:ga422caa4d4412d60c41a9c2d0df01d126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuilds the current database, even it's associated window is in the background.  <br /></td></tr>
<tr class="separator:ga422caa4d4412d60c41a9c2d0df01d126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8244ec76df5d3d2d2b33f6d31cb0870"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gad8244ec76df5d3d2d2b33f6d31cb0870">ACAPI_Database_NewDatabase</a> (<a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *parent=nullptr, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *child=nullptr)</td></tr>
<tr class="memdesc:gad8244ec76df5d3d2d2b33f6d31cb0870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new independent detail, worksheet, layout or master layout database.  <br /></td></tr>
<tr class="separator:gad8244ec76df5d3d2d2b33f6d31cb0870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab48244e14b6c9467bf6920aeb33289fe"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gab48244e14b6c9467bf6920aeb33289fe">ACAPI_Database_ModifyDatabase</a> (<a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:gab48244e14b6c9467bf6920aeb33289fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies the parameters of an independent detail, worksheet, layout or master layout database.  <br /></td></tr>
<tr class="separator:gab48244e14b6c9467bf6920aeb33289fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4573f9e4a42b93bbab08cbbcd73acba4"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga4573f9e4a42b93bbab08cbbcd73acba4">ACAPI_Database_DeleteDatabase</a> (<a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:ga4573f9e4a42b93bbab08cbbcd73acba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an independent detail, worksheet, layout, or master layout database.  <br /></td></tr>
<tr class="separator:ga4573f9e4a42b93bbab08cbbcd73acba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabed0ef0ff250aa2c12f77fafd47c5c28"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gabed0ef0ff250aa2c12f77fafd47c5c28">ACAPI_Window_GetDatabaseInfo</a> (<a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo, <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> *databaseId=nullptr)</td></tr>
<tr class="memdesc:gabed0ef0ff250aa2c12f77fafd47c5c28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves information of the given database.  <br /></td></tr>
<tr class="separator:gabed0ef0ff250aa2c12f77fafd47c5c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6dae6d71cb17eba48e15708b4d558ed"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gac6dae6d71cb17eba48e15708b4d558ed">ACAPI_Database_GetDBUnIdFromGuid</a> (<a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *elemSetId, short *userId, UInt32 *databaseId)</td></tr>
<tr class="memdesc:gac6dae6d71cb17eba48e15708b4d558ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the old database identifiers from the database GUID.  <br /></td></tr>
<tr class="separator:gac6dae6d71cb17eba48e15708b4d558ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5f8ff53eaf9f4da3fc378556b40021a"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gaa5f8ff53eaf9f4da3fc378556b40021a">ACAPI_Database_GetGuidFromDBUnId</a> (short *userId, UInt32 *databaseId, <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *elemSetId)</td></tr>
<tr class="memdesc:gaa5f8ff53eaf9f4da3fc378556b40021a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the GUID from old database identifiers.  <br /></td></tr>
<tr class="separator:gaa5f8ff53eaf9f4da3fc378556b40021a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c1cedd43b0379725ed08f4e90d0a564"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga4c1cedd43b0379725ed08f4e90d0a564">ACAPI_Database_GetDetailDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga4c1cedd43b0379725ed08f4e90d0a564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all detail databases.  <br /></td></tr>
<tr class="separator:ga4c1cedd43b0379725ed08f4e90d0a564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaefe650925cfccb8059ec74319d823b"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gabaefe650925cfccb8059ec74319d823b">ACAPI_Database_GetLayoutDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gabaefe650925cfccb8059ec74319d823b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all layout databases.  <br /></td></tr>
<tr class="separator:gabaefe650925cfccb8059ec74319d823b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5775b5e5f8f200155dc35217b3a46c9"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gad5775b5e5f8f200155dc35217b3a46c9">ACAPI_Database_GetMasterLayoutDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gad5775b5e5f8f200155dc35217b3a46c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all master layout databases.  <br /></td></tr>
<tr class="separator:gad5775b5e5f8f200155dc35217b3a46c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc504d67cd30f2d55fe1e875a66ee7c5"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gafc504d67cd30f2d55fe1e875a66ee7c5">ACAPI_Window_AddTextWindowContent</a> (<a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *windowInfo, const char *content, const GS::UniString *uniContent=nullptr)</td></tr>
<tr class="memdesc:gafc504d67cd30f2d55fe1e875a66ee7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds new lines to the content of a text window.  <br /></td></tr>
<tr class="separator:gafc504d67cd30f2d55fe1e875a66ee7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc884dcc3bbaa9ad34e924b7130c3162"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gafc884dcc3bbaa9ad34e924b7130c3162">ACAPI_Database_StartClippingSession</a> ()</td></tr>
<tr class="memdesc:gafc884dcc3bbaa9ad34e924b7130c3162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up clipping session for newly created elements to be clipped.  <br /></td></tr>
<tr class="separator:gafc884dcc3bbaa9ad34e924b7130c3162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bc98195c33fb90b44dd2b688e90263b"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga8bc98195c33fb90b44dd2b688e90263b">ACAPI_Database_DoClip</a> (<a class="el" href="struct_a_p_i___region.html">API_Region</a> *clipRegion, <a class="el" href="struct_a_p_i___clip_tran.html">API_ClipTran</a> *clipTran=nullptr)</td></tr>
<tr class="memdesc:ga8bc98195c33fb90b44dd2b688e90263b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clips the elements created during a clipping session.  <br /></td></tr>
<tr class="separator:ga8bc98195c33fb90b44dd2b688e90263b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84309b0aa91aafd33ed252559733e74f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga84309b0aa91aafd33ed252559733e74f">ACAPI_Database_StopClippingSession</a> ()</td></tr>
<tr class="memdesc:ga84309b0aa91aafd33ed252559733e74f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops clipping elements.  <br /></td></tr>
<tr class="separator:ga84309b0aa91aafd33ed252559733e74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9cf5c9038dfc6bddeb7b9e9c1305636"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gab9cf5c9038dfc6bddeb7b9e9c1305636">ACAPI_Database_GetLocOrigo</a> (<a class="el" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> *locOrigin)</td></tr>
<tr class="memdesc:gab9cf5c9038dfc6bddeb7b9e9c1305636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the local origin of the current database.  <br /></td></tr>
<tr class="separator:gab9cf5c9038dfc6bddeb7b9e9c1305636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5ab7d195e3767fc6781b9f9f31c740e"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gad5ab7d195e3767fc6781b9f9f31c740e">ACAPI_Database_GetSectionDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gad5ab7d195e3767fc6781b9f9f31c740e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the section databases in the project.  <br /></td></tr>
<tr class="separator:gad5ab7d195e3767fc6781b9f9f31c740e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57f7e257baf95d367c63f058c47a7e9f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga57f7e257baf95d367c63f058c47a7e9f">ACAPI_Database_GetElevationDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga57f7e257baf95d367c63f058c47a7e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the elevation databases in the project.  <br /></td></tr>
<tr class="separator:ga57f7e257baf95d367c63f058c47a7e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce0dc675577d1ebe28f8f72df85430a"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gacce0dc675577d1ebe28f8f72df85430a">ACAPI_Database_GetInteriorElevationDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gacce0dc675577d1ebe28f8f72df85430a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the interior elevation databases in the project.  <br /></td></tr>
<tr class="separator:gacce0dc675577d1ebe28f8f72df85430a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d78329fcfdc97be8ebcbc65b7c80e0f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga2d78329fcfdc97be8ebcbc65b7c80e0f">ACAPI_Database_GetWorksheetDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga2d78329fcfdc97be8ebcbc65b7c80e0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all detail databases.  <br /></td></tr>
<tr class="separator:ga2d78329fcfdc97be8ebcbc65b7c80e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc31811845e63e5e36ea17249d78c4fd"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gacc31811845e63e5e36ea17249d78c4fd">ACAPI_Database_GetDocumentFrom3DDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gacc31811845e63e5e36ea17249d78c4fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all document 3D databases.  <br /></td></tr>
<tr class="separator:gacc31811845e63e5e36ea17249d78c4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga658bffc8c04f45b2c99cf1c742da8929"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga658bffc8c04f45b2c99cf1c742da8929">ACAPI_Database_GetContainingDatabase</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *element, <a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *dbInfo)</td></tr>
<tr class="memdesc:ga658bffc8c04f45b2c99cf1c742da8929"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the unique ID of database contains the given element.  <br /></td></tr>
<tr class="separator:ga658bffc8c04f45b2c99cf1c742da8929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaceebfcb5e739f14ac38d671bb737fe43"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#gaceebfcb5e739f14ac38d671bb737fe43">ACAPI_Database_BuildWindowValidator</a> (const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *pValidatorInfo)</td></tr>
<tr class="memdesc:gaceebfcb5e739f14ac38d671bb737fe43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new window validator for the given guid.  <br /></td></tr>
<tr class="separator:gaceebfcb5e739f14ac38d671bb737fe43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a1a9f30f77fb8c256a8c044ea558864"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga0a1a9f30f77fb8c256a8c044ea558864">ACAPI_Window_DestroyWindowValidator</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *pGuid)</td></tr>
<tr class="memdesc:ga0a1a9f30f77fb8c256a8c044ea558864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an already registered validator for the given guid.  <br /></td></tr>
<tr class="separator:ga0a1a9f30f77fb8c256a8c044ea558864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0574d6087e078ac51b222266decadd44"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga0574d6087e078ac51b222266decadd44">ACAPI_Database_CheckWindowValidator</a> (const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *pValidatorInfo, bool *pContentChanged)</td></tr>
<tr class="memdesc:ga0574d6087e078ac51b222266decadd44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheks the already added list of elements and checksums form the validator (identified by the guid) against the lists from the parameter if there was any changes.  <br /></td></tr>
<tr class="separator:ga0574d6087e078ac51b222266decadd44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d37e038bf4c213704d1671599d9b88f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga6d37e038bf4c213704d1671599d9b88f">ACAPI_Database_RebuildWindowValidator</a> (const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *pValidatorInfo)</td></tr>
<tr class="memdesc:ga6d37e038bf4c213704d1671599d9b88f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the element and checksum list for an already added validator with given guid.  <br /></td></tr>
<tr class="separator:ga6d37e038bf4c213704d1671599d9b88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45b6945ab4c4fb3158d5d2b47124c79f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga45b6945ab4c4fb3158d5d2b47124c79f">ACAPI_Database_JsonQuery</a> (const GS::UniString *query, GS::UniString *result)</td></tr>
<tr class="memdesc:ga45b6945ab4c4fb3158d5d2b47124c79f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to call various functions inside Archicad.  <br /></td></tr>
<tr class="separator:ga45b6945ab4c4fb3158d5d2b47124c79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga995690d4308d823984e75a0f982b8cac"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga995690d4308d823984e75a0f982b8cac">ACAPI_Database_GetDatabasesForType</a> (const API_DatabaseTypeID &amp;id)</td></tr>
<tr class="memdesc:ga995690d4308d823984e75a0f982b8cac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to collect all Archicad databases of the given type.  <br /></td></tr>
<tr class="separator:ga995690d4308d823984e75a0f982b8cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55f2812d6bbc524761e258cf400b60fe"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___database.html#ga55f2812d6bbc524761e258cf400b60fe">ACAPI_Database_GetDatabasesForTypes</a> (const GS::Array&lt; API_DatabaseTypeID &gt; &amp;ids)</td></tr>
<tr class="memdesc:ga55f2812d6bbc524761e258cf400b60fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to collect all Archicad databases of the given types.  <br /></td></tr>
<tr class="separator:ga55f2812d6bbc524761e258cf400b60fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions related to the Database Manager, creating, manupulating and switching between different databases. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga38bea73a6617d9591c2035d9a37c2c34" name="ga38bea73a6617d9591c2035d9a37c2c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38bea73a6617d9591c2035d9a37c2c34">&#9670;&#160;</a></span>API_DatabaseInfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> =  <a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identification parameters of a project database. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Database reference is used for several purposes:<ul>
<li>Returned while asking for the active database</li>
<li>Must be setup when changing the current database</li>
<li>Defines the database when creating/modifying/deleting an independent detail, worksheet, layout, or master layout database The databases are referenced with their unique ID, except Floor Plan, 3D Model, and custom window databases. The unique IDs can be found in the connecting elements (<a class="el" href="struct_a_p_i___cut_plane_type.html">API_CutPlaneType</a>, <a class="el" href="struct_a_p_i___detail_type.html">API_DetailType</a>, <a class="el" href="group___element.html#gab7aeb1721e24f91ead7700b1685bf65d">API_WorksheetType</a>) or listed for independent detail, worksheet, layout, and master layout databases (<a class="el" href="group___database.html#ga4c1cedd43b0379725ed08f4e90d0a564">ACAPI_Database_GetDetailDatabases</a>, <a class="el" href="group___database.html#ga2d78329fcfdc97be8ebcbc65b7c80e0f">ACAPI_Database_GetWorksheetDatabases</a>, <a class="el" href="group___database.html#gabaefe650925cfccb8059ec74319d823b">ACAPI_Database_GetLayoutDatabases</a>, <a class="el" href="group___database.html#gad5775b5e5f8f200155dc35217b3a46c9">ACAPI_Database_GetMasterLayoutDatabases</a> respectively). In Floor Plan and 3D Model databases, the typeID field is enough to identify them. Custom API windows (<code>APIWind_MyDrawID</code>, <code>APIWind_MyTextID</code>) are identified with typeID and index. Featuring API 10 With this structure, you can retrieve the name, the title, and the reference ID of a given window/database (see <a class="el" href="group___database.html#gabed0ef0ff250aa2c12f77fafd47c5c28">ACAPI_Window_GetDatabaseInfo</a>). You can also rename independent detail, worksheet, layout, and master layout databases using the name and ref fields in <a class="el" href="group___database.html#gab48244e14b6c9467bf6920aeb33289fe">ACAPI_Database_ModifyDatabase</a>. See also <a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaa335be9a8c110f83d4cbfa2e0897acbc" name="gaa335be9a8c110f83d4cbfa2e0897acbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa335be9a8c110f83d4cbfa2e0897acbc">&#9670;&#160;</a></span>APICustomWindowHandlerProc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef GSErrCode __ACENV_CALL APICustomWindowHandlerProc(const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;userRefId, API_NotifyWindowEventID notifID)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User supplied callback function for handling events in windows opened by the add-on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userRefId</td><td>[in] The reference GUID of the custom window, as supplied to <a class="el" href="group___window.html#ga855edb2d9b65a501b62517523a1bcbfd">ACAPI_Window_NewWindow</a>. </td></tr>
    <tr><td class="paramname">notifID</td><td>[in] The type of the event for the custom window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function will be called when installed with <a class="el" href="group___window.html#ga855edb2d9b65a501b62517523a1bcbfd">ACAPI_Window_NewWindow</a>. The following types of events will come for your custom window: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Event type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APINotifyWindow_Rebuild   </td><td class="markdownTableBodyNone">The user chose Rebuild from the menu.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">APINotifyWindow_Activate   </td><td class="markdownTableBodyNone">Your window was activated.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APINotifyWindow_Close   </td><td class="markdownTableBodyNone">The user closed your window.   </td></tr>
</table>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaceebfcb5e739f14ac38d671bb737fe43" name="gaceebfcb5e739f14ac38d671bb737fe43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaceebfcb5e739f14ac38d671bb737fe43">&#9670;&#160;</a></span>ACAPI_Database_BuildWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_BuildWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *&#160;</td>
          <td class="paramname"><em>pValidatorInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new window validator for the given guid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pValidatorInfo</td><td>Contains the guid of a window which will be the owner of the new validator and an element and checksum list to track their changes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is already a validator registered for this guid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaa9976d9eff32e38fa183578f111717f2" name="gaa9976d9eff32e38fa183578f111717f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9976d9eff32e38fa183578f111717f2">&#9670;&#160;</a></span>ACAPI_Database_ChangeCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_ChangeCurrentDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>databaseInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the current (active) database. </p>
<dl class="section since"><dt>Since</dt><dd>Archicad 25 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in] parameters of the database to be created (type, reference index) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - databasePars is nullptr</li>
<li>APIERR_NOPLAN - no open project</li>
<li>APIERR_BADDATABASE - the requested database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to change the current database in the background. All the subsequent API calls to any database dependent function will work on the specified database. This function can be very expensive in case of low memory condition. The server application tries to keep as many database object in the memory as possibly, however it can happen, that some of them must be swapped out. Switching to an other database means, that the server application loads it into the memory, which may cause others to be unloaded. It can be a relatively long time. Refer to the <a class="el" href="group___window.html#ga5a865966e12a87bdfcc9be3db7779966">ACAPI_Window_ChangeWindow</a> function in the case you want to change not only the database in the background, but the current front window also. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GSErrCode ChangeCurrentDatabaseToDatabaseOfSectionElement (<span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>&amp; guid)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element = {};</div>
<div class="line">    element.<a class="code hl_variable" href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#aa3cef1d08910014c1546b66c0bf9c05a">guid</a> = guid;</div>
<div class="line"> </div>
<div class="line">    GSErrCode err = <a class="code hl_function" href="group___element.html#gaed52c5fb8b9fb2ac6fdbfd2cf66a9fd9">ACAPI_Element_Get</a> (&amp;element);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (err != NoError)</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (element.<a class="code hl_variable" href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae52dd2364341333896cae3f4ebfd2f52">type</a> != API_CutPlaneID)</div>
<div class="line">        <span class="keywordflow">return</span> Error;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> databasePars = {};</div>
<div class="line">    databasePars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">typeID</a> = APIWind_SectionID;</div>
<div class="line">    databasePars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a> = element.<a class="code hl_variable" href="union_a_p_i___element.html#acbb47ec7ac590278ea5fdc37abad5b51">cutPlane</a>.<a class="code hl_variable" href="struct_a_p_i___cut_plane_type.html#a8681641c05bd956808652ad1ee84d43c">segment</a>.<a class="code hl_variable" href="struct_a_p_i___section_segment.html#a188d3466ea2d7b1b1cc1093e2bbcdd33">databaseID</a>;</div>
<div class="line"> </div>
<div class="line">    err = ACAPI_Database (APIDb_ChangeCurrentDatabaseID, &amp;databasePars);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___element_html_gaed52c5fb8b9fb2ac6fdbfd2cf66a9fd9"><div class="ttname"><a href="group___element.html#gaed52c5fb8b9fb2ac6fdbfd2cf66a9fd9">ACAPI_Element_Get</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Element_Get(API_Element *element, UInt32 mask=0)</div><div class="ttdoc">Returns information on the main parameters of a given element.</div></div>
<div class="ttc" id="astruct_a_p_i___cut_plane_type_html_a8681641c05bd956808652ad1ee84d43c"><div class="ttname"><a href="struct_a_p_i___cut_plane_type.html#a8681641c05bd956808652ad1ee84d43c">API_CutPlaneType::segment</a></div><div class="ttdeci">API_SectionSegment segment</div><div class="ttdoc">Section segment.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:8881</div></div>
<div class="ttc" id="astruct_a_p_i___elem___head_html_aa3cef1d08910014c1546b66c0bf9c05a"><div class="ttname"><a href="struct_a_p_i___elem___head.html#aa3cef1d08910014c1546b66c0bf9c05a">API_Elem_Head::guid</a></div><div class="ttdeci">API_Guid guid</div><div class="ttdoc">The globally unique identifier of the element. It is type-independent, and guaranteed to be globally ...</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:375</div></div>
<div class="ttc" id="astruct_a_p_i___elem___head_html_ae52dd2364341333896cae3f4ebfd2f52"><div class="ttname"><a href="struct_a_p_i___elem___head.html#ae52dd2364341333896cae3f4ebfd2f52">API_Elem_Head::type</a></div><div class="ttdeci">API_ElemType type</div><div class="ttdoc">The type of the element.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:367</div></div>
<div class="ttc" id="astruct_a_p_i___guid_html"><div class="ttname"><a href="struct_a_p_i___guid.html">API_Guid</a></div><div class="ttdoc">Represents a GS::Guid in the API layer.</div><div class="ttdef"><b>Definition:</b> API_Guid.hpp:43</div></div>
<div class="ttc" id="astruct_a_p_i___section_segment_html_a188d3466ea2d7b1b1cc1093e2bbcdd33"><div class="ttname"><a href="struct_a_p_i___section_segment.html#a188d3466ea2d7b1b1cc1093e2bbcdd33">API_SectionSegment::databaseID</a></div><div class="ttdeci">API_DatabaseUnId databaseID</div><div class="ttdoc">Database ID to switch to (see API_DatabaseUnId).</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:8642</div></div>
<div class="ttc" id="astruct_a_p_i___window_info_html"><div class="ttname"><a href="struct_a_p_i___window_info.html">API_WindowInfo</a></div><div class="ttdoc">Identification parameters of a project window.</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:269</div></div>
<div class="ttc" id="astruct_a_p_i___window_info_html_abca1ff1464c90f5196c1a7a7725f93b4"><div class="ttname"><a href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">API_WindowInfo::databaseUnId</a></div><div class="ttdeci">API_DatabaseUnId databaseUnId</div><div class="ttdoc">Section/Elevation/Interior Elevation, Detail and Worksheet database/window unique identifier.</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:283</div></div>
<div class="ttc" id="astruct_a_p_i___window_info_html_ac91774dea16b97dd9e9bfdcc7c26ed04"><div class="ttname"><a href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">API_WindowInfo::typeID</a></div><div class="ttdeci">API_WindowTypeID typeID</div><div class="ttdoc">the window/database type identifier</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:273</div></div>
<div class="ttc" id="aunion_a_p_i___element_html"><div class="ttname"><a href="union_a_p_i___element.html">API_Element</a></div><div class="ttdoc">A union collecting all known element types.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:13332</div></div>
<div class="ttc" id="aunion_a_p_i___element_html_a59d81f4709eaa435123d7343347addaa"><div class="ttname"><a href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">API_Element::header</a></div><div class="ttdeci">API_Elem_Head header</div><div class="ttdoc">General element header.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:13337</div></div>
<div class="ttc" id="aunion_a_p_i___element_html_acbb47ec7ac590278ea5fdc37abad5b51"><div class="ttname"><a href="union_a_p_i___element.html#acbb47ec7ac590278ea5fdc37abad5b51">API_Element::cutPlane</a></div><div class="ttdeci">API_CutPlaneType cutPlane</div><div class="ttdoc">Represents a section.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:13472</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga0574d6087e078ac51b222266decadd44" name="ga0574d6087e078ac51b222266decadd44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0574d6087e078ac51b222266decadd44">&#9670;&#160;</a></span>ACAPI_Database_CheckWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_CheckWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *&#160;</td>
          <td class="paramname"><em>pValidatorInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pContentChanged</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cheks the already added list of elements and checksums form the validator (identified by the guid) against the lists from the parameter if there was any changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pValidatorInfo</td><td>Contains the guid of a window which is the owner of the validator and the current, and the element and checksum list to check against. </td></tr>
    <tr><td class="paramname">pContentChanged</td><td>Out paramter for the result. true if there was a change false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo or pContentChanged is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is no validator registered for this guid. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="ga4573f9e4a42b93bbab08cbbcd73acba4" name="ga4573f9e4a42b93bbab08cbbcd73acba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4573f9e4a42b93bbab08cbbcd73acba4">&#9670;&#160;</a></span>ACAPI_Database_DeleteDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_DeleteDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>databaseInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an independent detail, worksheet, layout, or master layout database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in] parameters of the database to be deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - no floor plan window opened</li>
<li>APIERR_BADPARS - api_dbInfo is nullptr, or contains invalid database reference</li>
<li>APIERR_REFUSEDPAR - the passed typeID is not <code>APIWind_DetailID</code>, <code>APIWind_WorksheetID</code>, <code>APIWind_LayoutID</code> or <code>APIWind_MasterLayoutID</code> </li>
<li>APIERR_REFUSEDCMD - attempted to delete database during signing in a Teamwork file</li>
<li>APIERR_NOTMINE - unsufficient privileges to delete database in Teamwork mode</li>
<li>APIERR_GENERAL - failed to delete the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete an independent detail drawing, worksheet layout or master layout database. This operation is not undoable. This function performs complete operations, so it cannot be called neither during undoable operations nor during non-undoable commands. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbInfo;</div>
<div class="line">BNZeroMemory (&amp;dbInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>));</div>
<div class="line"> </div>
<div class="line">GSErrCode err = ACAPI_Database (APIDb_GetCurrentDatabaseID, &amp;dbInfo, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError &amp;&amp; dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">typeID</a> == APIWind_LayoutID)</div>
<div class="line">    ACAPI_Database (APIDb_DeleteDatabaseID, &amp;dbInfo, <span class="keyword">nullptr</span>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga8bc98195c33fb90b44dd2b688e90263b" name="ga8bc98195c33fb90b44dd2b688e90263b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8bc98195c33fb90b44dd2b688e90263b">&#9670;&#160;</a></span>ACAPI_Database_DoClip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_DoClip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___region.html">API_Region</a> *&#160;</td>
          <td class="paramname"><em>clipRegion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___clip_tran.html">API_ClipTran</a> *&#160;</td>
          <td class="paramname"><em>clipTran</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clips the elements created during a clipping session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clipRegion</td><td>the region to clip elements to </td></tr>
    <tr><td class="paramname">clipTran</td><td>clipping transformation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - clipRegion is nullptr</li>
<li>APIERR_NESTING - the clip session is opened for the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can create elements to be clipped into the current database with a clipping region and transformation. Use the <a class="el" href="group___database.html#gafc884dcc3bbaa9ad34e924b7130c3162">ACAPI_Database_StartClippingSession</a> database function to open a temporary database, create the elements with <a class="el" href="group___element.html#ga8262e7856c7030993800869ca1c331db">ACAPI_Element_Create</a> into it, then call <a class="el" href="group___database.html#ga8bc98195c33fb90b44dd2b688e90263b">ACAPI_Database_DoClip</a> to merge them into the actual database applying the given clipping parameters. Don't forget to close the clipping session with the <a class="el" href="group___database.html#ga84309b0aa91aafd33ed252559733e74f">ACAPI_Database_StopClippingSession</a> database function to restore the target database. Note that only the 2D drawing elements will be clipped. Construction elements, like walls, columns will NOT take part in the clipping algorithm. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___region.html">API_Region</a>          clipRegion;</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>         element;</div>
<div class="line">GSErrCode           err;</div>
<div class="line"> </div>
<div class="line">BNZeroMemory (&amp;clipRegion, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___region.html">API_Region</a>));</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#aa49fd29b40fe0fae162f76635a9c8486">xMin</a> = 0.0;</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#aba11d2633a5cc0a2b0450a03f5ff4544">xMax</a> = 2.0;</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#a365983a79530cc4aea81dd4b84355372">yMin</a> = 1.54;</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#a53a1ea03c8e18ca38eebb90fbdb5f582">yMax</a> = 2.54;</div>
<div class="line"> </div>
<div class="line">err = ACAPI_Database (APIDb_StartClippingSessionID, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = <a class="code hl_function" href="group___element.html#ga8262e7856c7030993800869ca1c331db">ACAPI_Element_Create</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = ACAPI_Database (APIDb_DoClipID</div>
<div class="line">, &amp;clipRegion, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="line">err = ACAPI_Database (APIDb_StopClippingSessionID, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="ttc" id="agroup___element_html_ga8262e7856c7030993800869ca1c331db"><div class="ttname"><a href="group___element.html#ga8262e7856c7030993800869ca1c331db">ACAPI_Element_Create</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Element_Create(API_Element *element, API_ElementMemo *memo)</div><div class="ttdoc">Places a new element into current database.</div></div>
<div class="ttc" id="astruct_a_p_i___box_html_a365983a79530cc4aea81dd4b84355372"><div class="ttname"><a href="struct_a_p_i___box.html#a365983a79530cc4aea81dd4b84355372">API_Box::yMin</a></div><div class="ttdeci">double yMin</div><div class="ttdef"><b>Definition:</b> APIdefs_Base.h:169</div></div>
<div class="ttc" id="astruct_a_p_i___box_html_a53a1ea03c8e18ca38eebb90fbdb5f582"><div class="ttname"><a href="struct_a_p_i___box.html#a53a1ea03c8e18ca38eebb90fbdb5f582">API_Box::yMax</a></div><div class="ttdeci">double yMax</div><div class="ttdef"><b>Definition:</b> APIdefs_Base.h:171</div></div>
<div class="ttc" id="astruct_a_p_i___box_html_aa49fd29b40fe0fae162f76635a9c8486"><div class="ttname"><a href="struct_a_p_i___box.html#aa49fd29b40fe0fae162f76635a9c8486">API_Box::xMin</a></div><div class="ttdeci">double xMin</div><div class="ttdef"><b>Definition:</b> APIdefs_Base.h:168</div></div>
<div class="ttc" id="astruct_a_p_i___box_html_aba11d2633a5cc0a2b0450a03f5ff4544"><div class="ttname"><a href="struct_a_p_i___box.html#aba11d2633a5cc0a2b0450a03f5ff4544">API_Box::xMax</a></div><div class="ttdeci">double xMax</div><div class="ttdef"><b>Definition:</b> APIdefs_Base.h:170</div></div>
<div class="ttc" id="astruct_a_p_i___region_html"><div class="ttname"><a href="struct_a_p_i___region.html">API_Region</a></div><div class="ttdoc">Polygonal or rectangular region of the model.</div><div class="ttdef"><b>Definition:</b> APIdefs_Base.h:281</div></div>
<div class="ttc" id="astruct_a_p_i___region_html_a069ed1976a527312a6a153e9d91ce832"><div class="ttname"><a href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">API_Region::box</a></div><div class="ttdeci">API_Box box</div><div class="ttdoc">the rectangle (in case rectangular representation)</div><div class="ttdef"><b>Definition:</b> APIdefs_Base.h:298</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga658bffc8c04f45b2c99cf1c742da8929" name="ga658bffc8c04f45b2c99cf1c742da8929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga658bffc8c04f45b2c99cf1c742da8929">&#9670;&#160;</a></span>ACAPI_Database_GetContainingDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetContainingDatabase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>dbInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the unique ID of database contains the given element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>[in] The referred element. </td></tr>
    <tr><td class="paramname">dbInfo</td><td>[out] The owner database ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The guid or dbInfo parameter is nullptr.</li>
<li>APIERR_NOPLAN - There is no open project. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the ID of owner database of the referred element. </dd></dl>

</div>
</div>
<a id="ga877f057e06ca2a783ead99fc244800fe" name="ga877f057e06ca2a783ead99fc244800fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga877f057e06ca2a783ead99fc244800fe">&#9670;&#160;</a></span>ACAPI_Database_GetCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetCurrentDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>databaseInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the identifier of the current (active) database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[out] The identification parameters of the current database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_BADWINDOW - the type of the current database is not known by the API </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the parameters of the current database of the server application. It can be used to identify which database the subsequent API calls will work on. Generally the current window and the window of the current database are the same. However you must be careful; the database dependent functions work on the current database not on the database of the current window. You can change the current database by calling the <a class="el" href="group___database.html#gaa9976d9eff32e38fa183578f111717f2">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>    databaseInfo;</div>
<div class="line">GSErrCode           err;</div>
<div class="line"> </div>
<div class="line">BNZeroMemory (&amp;databaseInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>));</div>
<div class="line">err = ACAPI_Database (APIDb_GetCurrentDatabaseID, &amp;databaseInfo, <span class="keyword">nullptr</span>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga995690d4308d823984e75a0f982b8cac" name="ga995690d4308d823984e75a0f982b8cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga995690d4308d823984e75a0f982b8cac">&#9670;&#160;</a></span>ACAPI_Database_GetDatabasesForType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; __ACENV_CALL ACAPI_Database_GetDatabasesForType </td>
          <td>(</td>
          <td class="paramtype">const API_DatabaseTypeID &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to collect all Archicad databases of the given type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The database type to collect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of database idetifiers for the given type, or any empty list if no such databases exist in the current project. </dd></dl>

</div>
</div>
<a id="ga55f2812d6bbc524761e258cf400b60fe" name="ga55f2812d6bbc524761e258cf400b60fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55f2812d6bbc524761e258cf400b60fe">&#9670;&#160;</a></span>ACAPI_Database_GetDatabasesForTypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; __ACENV_CALL ACAPI_Database_GetDatabasesForTypes </td>
          <td>(</td>
          <td class="paramtype">const GS::Array&lt; API_DatabaseTypeID &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to collect all Archicad databases of the given types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ids</td><td>List of database types to collect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of database idetifiers for the given types, or any empty list if no such databases exist in the current project. </dd></dl>

</div>
</div>
<a id="gac6dae6d71cb17eba48e15708b4d558ed" name="gac6dae6d71cb17eba48e15708b4d558ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6dae6d71cb17eba48e15708b4d558ed">&#9670;&#160;</a></span>ACAPI_Database_GetDBUnIdFromGuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetDBUnIdFromGuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>elemSetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32 *&#160;</td>
          <td class="paramname"><em>databaseId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the old database identifiers from the database GUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">elemSetId</td><td>[in] Unique identifier of the database. </td></tr>
    <tr><td class="paramname">userId</td><td>[out] First old identifier. </td></tr>
    <tr><td class="paramname">databaseId</td><td>[out] Second old identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - One of the parameters is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to convert the old database identifiers to the new guid. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> databaseInfo;</div>
<div class="line">ACAPI_Database (APIDb_GetCurrentDatabaseID</div>
<div class="line">, &amp;databaseInfo, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">UInt32 currentDatabaseId;</div>
<div class="line"><span class="keywordtype">short</span>  userId;</div>
<div class="line"> </div>
<div class="line">ACAPI_Database (APIDb_GetDBUnIdFromGuidID</div>
<div class="line">, &amp;databaseInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a>.<a class="code hl_variable" href="struct_a_p_i___database_un_id.html#ad55036d004482f56d1aabbb73fdd211a">elemSetId</a>, &amp;userId, &amp;currentDatabaseId);</div>
<div class="ttc" id="astruct_a_p_i___database_un_id_html_ad55036d004482f56d1aabbb73fdd211a"><div class="ttname"><a href="struct_a_p_i___database_un_id.html#ad55036d004482f56d1aabbb73fdd211a">API_DatabaseUnId::elemSetId</a></div><div class="ttdeci">API_Guid elemSetId</div><div class="ttdoc">Unique identifier.</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:240</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga4c1cedd43b0379725ed08f4e90d0a564" name="ga4c1cedd43b0379725ed08f4e90d0a564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c1cedd43b0379725ed08f4e90d0a564">&#9670;&#160;</a></span>ACAPI_Database_GetDetailDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetDetailDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all detail databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of detail database unique IDs. Note this is not handle; it's the address of a pointer. See the example below. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of detail databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the database unique IDs of all detail databases, including independent details as well. Currently this is the only way you can access independent details. Independent details don't have a corresponding detail marker on the floor plan or in any of the sections/elevations. One detail database may belong to many detail markers (i.e. if you place the same marker several times, they will all refer to the same detail database). You can switch to any of the detail databases by calling the <a class="el" href="group___database.html#gaa9976d9eff32e38fa183578f111717f2">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">The Attribute Manager add-on uses <span class="keyword">this</span> function to collect all the used attributes from the detail databases.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gacc31811845e63e5e36ea17249d78c4fd" name="gacc31811845e63e5e36ea17249d78c4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc31811845e63e5e36ea17249d78c4fd">&#9670;&#160;</a></span>ACAPI_Database_GetDocumentFrom3DDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetDocumentFrom3DDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all document 3D databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of document 3D database unique IDs. Note this is not handle; it's the address of a pointer. See the example below. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of 3D document databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the database unique IDs of all document 3D databases. Currently this is the only way you can access these kind of databases because they don't have markers. You can switch to any of the other databases by calling the <a class="el" href="group___database.html#gaa9976d9eff32e38fa183578f111717f2">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">The Attribute Manager add-on uses <span class="keyword">this</span> function to collect all the used attributes from the document 3D databases.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga57f7e257baf95d367c63f058c47a7e9f" name="ga57f7e257baf95d367c63f058c47a7e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57f7e257baf95d367c63f058c47a7e9f">&#9670;&#160;</a></span>ACAPI_Database_GetElevationDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetElevationDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the elevation databases in the project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>the array of elevation databases (address of a pointer! not a handle). </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of elevation databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Don't forget to dispose the allocated pointer with BMpFree. </dd></dl>

</div>
</div>
<a id="gaa5f8ff53eaf9f4da3fc378556b40021a" name="gaa5f8ff53eaf9f4da3fc378556b40021a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5f8ff53eaf9f4da3fc378556b40021a">&#9670;&#160;</a></span>ACAPI_Database_GetGuidFromDBUnId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetGuidFromDBUnId </td>
          <td>(</td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32 *&#160;</td>
          <td class="paramname"><em>databaseId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>elemSetId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the GUID from old database identifiers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userId</td><td>[in] First old identifier. </td></tr>
    <tr><td class="paramname">databaseId</td><td>[in] Second old identifier. </td></tr>
    <tr><td class="paramname">elemSetId</td><td>[out] Unique identifier of the database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - One of the parameters is nullptr. Or databaseId is 0. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to convert new database identifier guid to the old identifiers. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">The Environment Control example add-on uses <span class="keyword">this</span> function to get floor plan s guid.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gacce0dc675577d1ebe28f8f72df85430a" name="gacce0dc675577d1ebe28f8f72df85430a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacce0dc675577d1ebe28f8f72df85430a">&#9670;&#160;</a></span>ACAPI_Database_GetInteriorElevationDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetInteriorElevationDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the interior elevation databases in the project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>the array of interior elevation databases (address of a pointer! not a handle). </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of interior elevation databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Don't forget to dispose the allocated pointer with BMpFree. </dd></dl>

</div>
</div>
<a id="gabaefe650925cfccb8059ec74319d823b" name="gabaefe650925cfccb8059ec74319d823b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabaefe650925cfccb8059ec74319d823b">&#9670;&#160;</a></span>ACAPI_Database_GetLayoutDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetLayoutDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all layout databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of layout database unique IDs. Note: this is not handle; it's the address of a pointer. You'll have to dispose it with BMpFree when you don't need it any more. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of layout databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can get the list of all layout databases with this function, then you can use <a class="el" href="group___database.html#gaa9976d9eff32e38fa183578f111717f2">ACAPI_Database_ChangeCurrentDatabase</a> to switch to that database. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">See the Example of the APIDb_GetDatabaseInfoID</div>
<div class="line">function.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gab9cf5c9038dfc6bddeb7b9e9c1305636" name="gab9cf5c9038dfc6bddeb7b9e9c1305636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9cf5c9038dfc6bddeb7b9e9c1305636">&#9670;&#160;</a></span>ACAPI_Database_GetLocOrigo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetLocOrigo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> *&#160;</td>
          <td class="paramname"><em>locOrigin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the local origin of the current database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">locOrigin</td><td>the local origin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - locOrigin is nullptr</li>
<li>APIERR_BADDATABASE - the query is valid only for the plan, section, detail and 3D window. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the local origin of the current database. This can be modified by the user by clicking on the User Origin button on the coordinate box. The value is measured relative to the origin of the virtual coordinate system. </dd></dl>

</div>
</div>
<a id="gad5775b5e5f8f200155dc35217b3a46c9" name="gad5775b5e5f8f200155dc35217b3a46c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5775b5e5f8f200155dc35217b3a46c9">&#9670;&#160;</a></span>ACAPI_Database_GetMasterLayoutDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetMasterLayoutDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all master layout databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of master layout database unique IDs. Note this is not handle; it's the address of a pointer. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of master layout databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can use this function to enumerate all master layout databases. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">See the Example of the APIDb_GetDatabaseInfoID</div>
<div class="line">function.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gad5ab7d195e3767fc6781b9f9f31c740e" name="gad5ab7d195e3767fc6781b9f9f31c740e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5ab7d195e3767fc6781b9f9f31c740e">&#9670;&#160;</a></span>ACAPI_Database_GetSectionDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetSectionDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the section databases in the project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>the array of section databases (address of a pointer! not a handle). </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of section databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Don't forget to dispose the allocated pointer with BMpFree. </dd></dl>

</div>
</div>
<a id="ga2d78329fcfdc97be8ebcbc65b7c80e0f" name="ga2d78329fcfdc97be8ebcbc65b7c80e0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d78329fcfdc97be8ebcbc65b7c80e0f">&#9670;&#160;</a></span>ACAPI_Database_GetWorksheetDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_GetWorksheetDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **&#160;</td>
          <td class="paramname"><em>databaseUnIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *&#160;</td>
          <td class="paramname"><em>databaseUnIdArray</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all detail databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of worksheet database unique IDs. Note this is not handle; it's the address of a pointer. See the example below. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of worksheet databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the database unique IDs of all worksheets databases, including independent details as well. Currently this is the only way you can access independent details. [Independent worksheets don't have a corresponding detail marker on the floor plan or in any of the sections/elevations.???] [One worksheet database may belong to many worksheet markers (i.e. if you place the same marker several times, they will all refer to the same worksheet database).???] You can switch to any of the worksheet databases by calling the <a class="el" href="group___database.html#gaa9976d9eff32e38fa183578f111717f2">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">The Attribute Manager add-on uses <span class="keyword">this</span> function to collect all the used attributes from the detail databases.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga45b6945ab4c4fb3158d5d2b47124c79f" name="ga45b6945ab4c4fb3158d5d2b47124c79f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45b6945ab4c4fb3158d5d2b47124c79f">&#9670;&#160;</a></span>ACAPI_Database_JsonQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_JsonQuery </td>
          <td>(</td>
          <td class="paramtype">const GS::UniString *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to call various functions inside Archicad. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The request towards Archicad </td></tr>
    <tr><td class="paramname">result</td><td>The answer from Archicad </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>Other error code - <code>query</code> is invalid. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The following queries/commands are available: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Query   </th><th class="markdownTableHeadNone">Result    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"getTopWindow"   </td><td class="markdownTableBodyNone">The title of the top window.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"lineConsolidation"   </td><td class="markdownTableBodyNone">Calls the Line Consolidation menu command.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"fillNormalization"   </td><td class="markdownTableBodyNone">Calls the Fill Consolidation menu command.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"usedAttributes"   </td><td class="markdownTableBodyNone">Returns the list of used attributes.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"numberOfTraceReferences"   </td><td class="markdownTableBodyNone">Returns the number of trace references.   </td></tr>
</table>
</dd></dl>

</div>
</div>
<a id="gab48244e14b6c9467bf6920aeb33289fe" name="gab48244e14b6c9467bf6920aeb33289fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab48244e14b6c9467bf6920aeb33289fe">&#9670;&#160;</a></span>ACAPI_Database_ModifyDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_ModifyDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>databaseInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies the parameters of an independent detail, worksheet, layout or master layout database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in/out] parameters of the database to be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - the function has completed with success.</li>
<li>APIERR_NOPLAN - no floor plan window opened</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_REFUSEDPAR - the passed typeID is not <code>APIWind_DetailID</code>, <code>APIWind_WorksheetID</code>, <code>APIWind_LayoutID</code> or <code>APIWind_MasterLayoutID</code> </li>
<li>APIERR_REFUSEDCMD - attempted to modify database parameters during signing in a Teamwork file</li>
<li>APIERR_NOTMINE - unsufficient privileges to modify database parameters in Teamwork mode</li>
<li>APIERR_GENERAL - failed to modify the database parameters </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>With this function you can rename an independent detail, worksheet, layout or master layout database, and change their reference ID. Note that you cannot change the title parameter of the database. You can also change the Master of a Layout database by passing a valid masterLayoutUnId. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbInfo;</div>
<div class="line">BNZeroMemory (&amp;dbInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>));</div>
<div class="line"> </div>
<div class="line">GSErrCode err = ACAPI_Database (APIDb_GetCurrentDatabaseID, &amp;dbInfo, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError &amp;&amp; dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">typeID</a> == APIWind_LayoutID) {</div>
<div class="line">    CHCopyC (<span class="stringliteral">&quot;Renamed Layout&quot;</span>, dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a0a998b0b91916062beaf7a99405e84f5">name</a>);</div>
<div class="line">    ACAPI_Database (APIDb_ModifyDatabaseID, &amp;dbInfo, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="ttc" id="astruct_a_p_i___window_info_html_a0a998b0b91916062beaf7a99405e84f5"><div class="ttname"><a href="struct_a_p_i___window_info.html#a0a998b0b91916062beaf7a99405e84f5">API_WindowInfo::name</a></div><div class="ttdeci">GS::uchar_t name[API_UniLongNameLen]</div><div class="ttdoc">the name of the database (Unicode string)</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:298</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gad8244ec76df5d3d2d2b33f6d31cb0870" name="gad8244ec76df5d3d2d2b33f6d31cb0870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8244ec76df5d3d2d2b33f6d31cb0870">&#9670;&#160;</a></span>ACAPI_Database_NewDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_NewDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>databaseInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>child</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new independent detail, worksheet, layout or master layout database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in/out] parameters of the database to be created </td></tr>
    <tr><td class="paramname">parent</td><td>The parent of the new item. </td></tr>
    <tr><td class="paramname">child</td><td>If it is nullptr, then the new item will be inserted to the first place on the actual level, otherwise the it will be inserted after the child. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - the function has completed with success.</li>
<li>APIERR_REFUSEDCMD - the function was refused to execute, because it was called inside an undo scope.</li>
<li>APIERR_NOPLAN - no floor plan window opened</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_REFUSEDPAR - the passed typeID is not <code>APIWind_DetailID</code>, <code>APIWind_WorksheetID</code>, <code>APIWind_LayoutID</code> or <code>APIWind_MasterLayoutID</code> </li>
<li>APIERR_GENERAL - could not create new database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to create a new database with the given name and ref parameters. No associated window will be opened. In case of Layout databases you must specify an existing Master Layout in masterLayoutUnId. If the database is created successfully, the unique ID of the database returns in the databaseUnId field. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbInfo;</div>
<div class="line">BNZeroMemory (&amp;dbInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>));</div>
<div class="line">dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">typeID</a> = APIWind_DetailID;</div>
<div class="line">sprintf (dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a0a998b0b91916062beaf7a99405e84f5">name</a>, <span class="stringliteral">&quot;Dooku 1&quot;</span>);</div>
<div class="line">sprintf (dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac308e25478cd7a779e0b26239f2bc8ab">ref</a>, <span class="stringliteral">&quot;D01&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (ACAPI_Database (APIDb_NewDatabaseID, &amp;dbInfo, <span class="keyword">nullptr</span>) == NoError) {</div>
<div class="line">    <span class="keywordtype">char</span> msgStr[1024];</div>
<div class="line">    sprintf (msgStr, <span class="stringliteral">&quot;New detail database is created with unId:%d-%d&quot;</span>, dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a>.id1, dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a>.id2);</div>
<div class="line">    <a class="code hl_function" href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a> (msgStr, <span class="keyword">true</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup___dialog_html_ga87b7a0c6b301802ee09b3f1e715a91df"><div class="ttname"><a href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a></div><div class="ttdeci">__APIEXPORT void __ACENV_CALL ACAPI_WriteReport(const GS::UniString &amp;format, bool withDial,...)</div><div class="ttdoc">Writes a report string into the Report Windowot into a custom alert window.</div></div>
<div class="ttc" id="astruct_a_p_i___window_info_html_ac308e25478cd7a779e0b26239f2bc8ab"><div class="ttname"><a href="struct_a_p_i___window_info.html#ac308e25478cd7a779e0b26239f2bc8ab">API_WindowInfo::ref</a></div><div class="ttdeci">GS::uchar_t ref[API_UniLongNameLen]</div><div class="ttdoc">reference string/id of the database</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:303</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga422caa4d4412d60c41a9c2d0df01d126" name="ga422caa4d4412d60c41a9c2d0df01d126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga422caa4d4412d60c41a9c2d0df01d126">&#9670;&#160;</a></span>ACAPI_Database_RebuildCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_RebuildCurrentDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rebuilds the current database, even it's associated window is in the background. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - No open project. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to rebuild the current database in the background. Only the visible region of the associated window will be updated. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="ga6d37e038bf4c213704d1671599d9b88f" name="ga6d37e038bf4c213704d1671599d9b88f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d37e038bf4c213704d1671599d9b88f">&#9670;&#160;</a></span>ACAPI_Database_RebuildWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_RebuildWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *&#160;</td>
          <td class="paramname"><em>pValidatorInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the element and checksum list for an already added validator with given guid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pValidatorInfo</td><td>Contains the guid of a window which is the owner of the validator and the new element and checksum list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is no validator registered for this guid. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="gac724de582a4a8613694c56affae8912a" name="gac724de582a4a8613694c56affae8912a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac724de582a4a8613694c56affae8912a">&#9670;&#160;</a></span>ACAPI_Database_RedrawCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_RedrawCurrentDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redraws the current database, even it's associated window is in the background. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - No open project. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to redraw the current database in the background. Only the visible region of the associated window will be updated from the update picture. </dd></dl>

</div>
</div>
<a id="gafc884dcc3bbaa9ad34e924b7130c3162" name="gafc884dcc3bbaa9ad34e924b7130c3162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc884dcc3bbaa9ad34e924b7130c3162">&#9670;&#160;</a></span>ACAPI_Database_StartClippingSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_StartClippingSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up clipping session for newly created elements to be clipped. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NESTING - the clip session is opened for the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function creates a temporary database and redirects the subsequent <a class="el" href="group___element.html#ga8262e7856c7030993800869ca1c331db">ACAPI_Element_Create</a> calls into it. The elements created during this session then can be copied into the actual element database with the <a class="el" href="group___database.html#ga8bc98195c33fb90b44dd2b688e90263b">ACAPI_Database_DoClip</a> command applying the given clipping region and transformation. You must close the clipping session with the <a class="el" href="group___database.html#ga84309b0aa91aafd33ed252559733e74f">ACAPI_Database_StopClippingSession</a> database function to restore the target database. Note that only the 2D drawing elements will be clipped. Construction elements, like walls, columns will NOT take part in the clipping algorithm. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___region.html">API_Region</a>          clipRegion;</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>         element;</div>
<div class="line">GSErrCode           err;</div>
<div class="line"> </div>
<div class="line">BNZeroMemory (&amp;clipRegion, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___region.html">API_Region</a>));</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#aa49fd29b40fe0fae162f76635a9c8486">xMin</a> = 0.0;</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#aba11d2633a5cc0a2b0450a03f5ff4544">xMax</a> = 2.0;</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#a365983a79530cc4aea81dd4b84355372">yMin</a> = 1.54;</div>
<div class="line">clipRegion.<a class="code hl_variable" href="struct_a_p_i___region.html#a069ed1976a527312a6a153e9d91ce832">box</a>.<a class="code hl_variable" href="struct_a_p_i___box.html#a53a1ea03c8e18ca38eebb90fbdb5f582">yMax</a> = 2.54;</div>
<div class="line"> </div>
<div class="line">err = ACAPI_Database (APIDb_StartClippingSessionID</div>
<div class="line">, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = <a class="code hl_function" href="group___element.html#ga8262e7856c7030993800869ca1c331db">ACAPI_Element_Create</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = ACAPI_Database (APIDb_DoClipID, &amp;clipRegion, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="line">err = ACAPI_Database (APIDb_StopClippingSessionID, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga84309b0aa91aafd33ed252559733e74f" name="ga84309b0aa91aafd33ed252559733e74f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84309b0aa91aafd33ed252559733e74f">&#9670;&#160;</a></span>ACAPI_Database_StopClippingSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Database_StopClippingSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops clipping elements. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_GENERAL - no opened clipping session for the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to close the automatic clip service of the server application. Use when a clipping session has been opened by the <a class="el" href="group___database.html#gafc884dcc3bbaa9ad34e924b7130c3162">ACAPI_Database_StartClippingSession</a> database function, if clipping newly created elements is not necessary any more. </dd></dl>

</div>
</div>
<a id="gafc504d67cd30f2d55fe1e875a66ee7c5" name="gafc504d67cd30f2d55fe1e875a66ee7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc504d67cd30f2d55fe1e875a66ee7c5">&#9670;&#160;</a></span>ACAPI_Window_AddTextWindowContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_AddTextWindowContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *&#160;</td>
          <td class="paramname"><em>windowInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GS::UniString *&#160;</td>
          <td class="paramname"><em>uniContent</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds new lines to the content of a text window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>[in] window identification </td></tr>
    <tr><td class="paramname">content</td><td>[in] the text to append </td></tr>
    <tr><td class="paramname">uniContent</td><td>[in] the Unicode text to append </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowPars is nullptr,</li>
<li>APIERR_REFUSEDPAR - not <code>APIWind_MyTextID</code> is referenced,</li>
<li>APIERR_WINDNOTEXIST - the referenced window does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to append new lines to a text window. It is limited to use for custom text windows only, which is opened by <a class="el" href="group___window.html#ga855edb2d9b65a501b62517523a1bcbfd">ACAPI_Window_NewWindow</a> in the same addon. The Report Window, Missing Library Parts Window etc cannot be addressed with this function. The string must be '\0' terminated. Line feeds should be passed with '<br  />
' characters. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a>      windowInfo = {};</div>
<div class="line">GS::UniString       buffer;</div>
<div class="line">GSErrCode           err;</div>
<div class="line"> </div>
<div class="line">windowInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">typeID</a> = APIWind_MyTextID;</div>
<div class="line">windowInfo.refCon = 1;</div>
<div class="line"> </div>
<div class="line">buffer = GS::UniString::Printf (<span class="stringliteral">&quot;Number of lines: %d\nOK\n&quot;</span>, nLine);</div>
<div class="line"> </div>
<div class="line">err = ACAPI_Database (APIDb_AddTextWindowContentID, &amp;windowInfo, <span class="keyword">nullptr</span>, &amp;buffer);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaa46a73654f1799f7d2f8c2c1dc3bdeae" name="gaa46a73654f1799f7d2f8c2c1dc3bdeae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa46a73654f1799f7d2f8c2c1dc3bdeae">&#9670;&#160;</a></span>ACAPI_Window_CloseWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_CloseWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *&#160;</td>
          <td class="paramname"><em>windowInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>parameters of the window to be closed (type and reference index) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowPars is nullptr.</li>
<li>APIERR_REFUSEDCMD - the function is called from notification level.</li>
<li>APIERR_REFUSEDPAR - not <code>APIWind_MyTextID</code> or <code>APIWind_MyDrawID</code> is requested.</li>
<li>APIERR_WINDNOTEXIST - a window with the same type and reference index is not opened.</li>
<li>APIERR_NOPLAN - no open project </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to close a previously opened custom window. It is the inverse function of <a class="el" href="group___window.html#ga855edb2d9b65a501b62517523a1bcbfd">ACAPI_Window_NewWindow</a>, so it is limited to close simple text or drawing windows. Such a window can be closed from the same addon, which it was opened from. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a>      windowInfo;</div>
<div class="line">GSErrCode           err;</div>
<div class="line"> </div>
<div class="line">BNZeroMemory (&amp;windowInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a>));</div>
<div class="line">windowInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac91774dea16b97dd9e9bfdcc7c26ed04">typeID</a> = APIWind_MyDrawID;</div>
<div class="line">windowInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a9439388dd9cf0b872a0e121bafde2719">index</a>  = 1;</div>
<div class="line"> </div>
<div class="line">err = ACAPI_Database (APIDb_CloseWindowID, &amp;windowInfo, <span class="keyword">nullptr</span>);</div>
<div class="ttc" id="astruct_a_p_i___window_info_html_a9439388dd9cf0b872a0e121bafde2719"><div class="ttname"><a href="struct_a_p_i___window_info.html#a9439388dd9cf0b872a0e121bafde2719">API_WindowInfo::index</a></div><div class="ttdeci">Int32 index</div><div class="ttdoc">usually the database/window index (the refCon value in case of custom windows, not used for Section/E...</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:278</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga0a1a9f30f77fb8c256a8c044ea558864" name="ga0a1a9f30f77fb8c256a8c044ea558864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a1a9f30f77fb8c256a8c044ea558864">&#9670;&#160;</a></span>ACAPI_Window_DestroyWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_DestroyWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>pGuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an already registered validator for the given guid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pGuid</td><td>The guid of the owner window of the validator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is no validator registered for this guid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gafa2629d5f6a404eeaf99dc1f7a728125" name="gafa2629d5f6a404eeaf99dc1f7a728125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa2629d5f6a404eeaf99dc1f7a728125">&#9670;&#160;</a></span>ACAPI_Window_GetCurrentWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_GetCurrentWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *&#160;</td>
          <td class="paramname"><em>windowInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the identifier of the current (active) window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>[out] The identification parameters of the front window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowInfo is nullptr.</li>
<li>APIERR_BADWINDOW - the type of the current front window is not known by the API </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the parameters of the front window of the server application. It can be used to identify which window your command was called on. Generally the current window and the window of the current database are the same. However you must be careful; the database dependent functions work on the current database not on the database of the current window. The interface functions work on the current window always. Note that this function fills out only the fields which are needed to identify the window type and the database behind the window. In order to retrieve the additional parameters of the database (title, name, ref, masterLayoutUnId) call the <a class="el" href="group___database.html#gabed0ef0ff250aa2c12f77fafd47c5c28">ACAPI_Window_GetDatabaseInfo</a> function with the databaseUnId of the current window. Use the <a class="el" href="group___window.html#ga5a865966e12a87bdfcc9be3db7779966">ACAPI_Window_ChangeWindow</a> function to change the current window. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a> windowInfo;</div>
<div class="line">BNZeroMemory (&amp;windowInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a>));</div>
<div class="line">GSErrCode err = ACAPI_Database (APIDb_GetCurrentWindowID, &amp;windowInfo, <span class="keyword">nullptr</span>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gabed0ef0ff250aa2c12f77fafd47c5c28" name="gabed0ef0ff250aa2c12f77fafd47c5c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabed0ef0ff250aa2c12f77fafd47c5c28">&#9670;&#160;</a></span>ACAPI_Window_GetDatabaseInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_GetDatabaseInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___database.html#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *&#160;</td>
          <td class="paramname"><em>databaseInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> *&#160;</td>
          <td class="paramname"><em>databaseId</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves information of the given database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in/out] parameters of the database </td></tr>
    <tr><td class="paramname">databaseId</td><td>[out] Second old identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_BADDATABASE - the passed database reference is not valid </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to retrieve information about a database specified with databaseUnId. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GS::Array&lt;API_DatabaseUnId&gt; dbases;</div>
<div class="line"> </div>
<div class="line">GSErrCode err = ACAPI_Database (APIDb_GetLayoutDatabasesID, <span class="keyword">nullptr</span>, &amp;dbases);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dbUnId : dbases) {</div>
<div class="line">        <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbPars = {};</div>
<div class="line">        dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a> = dbUnId;</div>
<div class="line"> </div>
<div class="line">        err = ACAPI_Database (APIDb_GetDatabaseInfoID</div>
<div class="line">, &amp;dbPars, <span class="keyword">nullptr</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">            <span class="keywordtype">char</span> msgStr[1024];</div>
<div class="line">            sprintf (msgStr, <span class="stringliteral">&quot;Layout database [%d] unId:(%d-%d) title:\&quot;%s\&quot; name:\&quot;%s\&quot; ref:\&quot;%s\&quot;&quot;</span>,</div>
<div class="line">                    dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a9439388dd9cf0b872a0e121bafde2719">index</a>, dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a>.id1, dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#abca1ff1464c90f5196c1a7a7725f93b4">databaseUnId</a>.id2, dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a764811dafb9b54e70ecdc07910aa1876">title</a>, dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a0a998b0b91916062beaf7a99405e84f5">name</a>, dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#ac308e25478cd7a779e0b26239f2bc8ab">ref</a>);</div>
<div class="line">            <a class="code hl_function" href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a> (msgStr, <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="astruct_a_p_i___window_info_html_a764811dafb9b54e70ecdc07910aa1876"><div class="ttname"><a href="struct_a_p_i___window_info.html#a764811dafb9b54e70ecdc07910aa1876">API_WindowInfo::title</a></div><div class="ttdeci">GS::uchar_t title[API_UniLongNameLen]</div><div class="ttdoc">the title of the database (Unicode string), as it is displayed on the window title bar (generally &quot;re...</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:293</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga65c104bf4610c9842dd7901890a5f3a4" name="ga65c104bf4610c9842dd7901890a5f3a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65c104bf4610c9842dd7901890a5f3a4">&#9670;&#160;</a></span>ACAPI_Window_GetOwnWindows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_GetOwnWindows </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_WindowTypeID</a> *&#160;</td>
          <td class="paramname"><em>windowTypeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *&#160;</td>
          <td class="paramname"><em>guid</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the ids of the opened windows in an array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowTypeID</td><td>[in] TypeID of the opened windows. </td></tr>
    <tr><td class="paramname">guid</td><td>[out] An array of guids of the opened windows. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - There is no open project. The operation cannot be executed without an open project.</li>
<li>APIERR_BADPARS - Incorrect windowTypeID or guid was specified. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga855edb2d9b65a501b62517523a1bcbfd" name="ga855edb2d9b65a501b62517523a1bcbfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga855edb2d9b65a501b62517523a1bcbfd">&#9670;&#160;</a></span>ACAPI_Window_NewWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_NewWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a> *&#160;</td>
          <td class="paramname"><em>newWindowPars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___window.html#gaa335be9a8c110f83d4cbfa2e0897acbc">APICustomWindowHandlerProc</a> *&#160;</td>
          <td class="paramname"><em>handlerProc</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a new window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newWindowPars</td><td>[in] parameters of the window to be created (type and reference index) </td></tr>
    <tr><td class="paramname">handlerProc</td><td>[in] Callback function to handle special (e.g. activate) events. Specify nullptr if you are not interested in these events. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowPars is nullptr.</li>
<li>APIERR_REFUSEDCMD - the function is called from notification level.</li>
<li>APIERR_REFUSEDPAR - not <code>APIWind_MyTextID</code> or <code>APIWind_MyDrawID</code> is requested.</li>
<li>APIERR_WINDEXIST - a window with the same type and reference index already opened.</li>
<li>APIERR_NOPLAN - no open project </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to open a new window. It is limited to opening simple text or drawing windows. The drawing window will have limited functionality and database beyond, compared to a normal 2D model window. It can have real 2D elements only (lines, arcs, etc.), construction elements like walls or beams cannot appear in this database. The database cannot be modified by the user, the input and edit functionality on these windows are disabled for the user. These type of windows are excellent to visualize the output of your algorithms, for example in case of listings. An add-on can open any number of drawing and text windows at the same time. Once an add-on opens such a window, it will be responsible for rebuilding its content when it is necessary. Archicad will post notifications for such an event. Upon receiving a notification Archicad will pass the windowPars-&gt;userRefCon parameter to the add-on to identify which window it should work on. Refer to the Notification Manager to get further details. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a>   windowPars;</div>
<div class="line">GSErrCode           err;</div>
<div class="line"> </div>
<div class="line">BNZeroMemory (&amp;windowPars, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a>));</div>
<div class="line">windowPars.<a class="code hl_variable" href="struct_a_p_i___new_window_pars.html#a332d673086423d29d2c85ce840452550">typeID</a> = APIWind_MyDrawID;  <span class="comment">// create a drawing window</span></div>
<div class="line">windowPars.userRefCon = 1;</div>
<div class="line">GS::snuprintf (windowPars.<a class="code hl_variable" href="struct_a_p_i___new_window_pars.html#a877e2aee67a8fed3d03ae6832e86ba35">wTitle</a>, sizeof (windowPars.<a class="code hl_variable" href="struct_a_p_i___new_window_pars.html#a877e2aee67a8fed3d03ae6832e86ba35">wTitle</a>) / sizeof (GS::uchar_t), L(<span class="stringliteral">&quot;API window: %ld&quot;</span>), userRefCon);</div>
<div class="line"> </div>
<div class="line">err = ACAPI_Database (APIDb_NewWindowID, &amp;windowPars, <span class="keyword">nullptr</span>);</div>
<div class="ttc" id="astruct_a_p_i___new_window_pars_html"><div class="ttname"><a href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a></div><div class="ttdoc">Parameters to open a new window.</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:342</div></div>
<div class="ttc" id="astruct_a_p_i___new_window_pars_html_a332d673086423d29d2c85ce840452550"><div class="ttname"><a href="struct_a_p_i___new_window_pars.html#a332d673086423d29d2c85ce840452550">API_NewWindowPars::typeID</a></div><div class="ttdeci">API_WindowTypeID typeID</div><div class="ttdoc">type of the database; only APIWind_MyTextID and APIWind_MyDrawID are allowed.</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:347</div></div>
<div class="ttc" id="astruct_a_p_i___new_window_pars_html_a877e2aee67a8fed3d03ae6832e86ba35"><div class="ttname"><a href="struct_a_p_i___new_window_pars.html#a877e2aee67a8fed3d03ae6832e86ba35">API_NewWindowPars::wTitle</a></div><div class="ttdeci">GS::uchar_t wTitle[API_UniLongNameLen]</div><div class="ttdoc">The window title (Unicode string).</div><div class="ttdef"><b>Definition:</b> APIdefs_Database.h:363</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga9b866ca813e8ce7f3662dcfd406f6bdc" name="ga9b866ca813e8ce7f3662dcfd406f6bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b866ca813e8ce7f3662dcfd406f6bdc">&#9670;&#160;</a></span>ACAPI_Window_ResetCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_ResetCurrentDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the database elements of the current window and sets up a new, empty environment. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADDATABASE - The current database is not a custom drawing or owned by an other addon, </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete all elements from the current database. It returns an error if the active database is not a custom window owned by the caller addon. To reset the content of the current (front) window use the <a class="el" href="group___window.html#ga6825ddb26e6e2e9dca053c1f3e672bff">ACAPI_Window_ResetCurrentWindow</a> function. </dd></dl>

</div>
</div>
<a id="ga6825ddb26e6e2e9dca053c1f3e672bff" name="ga6825ddb26e6e2e9dca053c1f3e672bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6825ddb26e6e2e9dca053c1f3e672bff">&#9670;&#160;</a></span>ACAPI_Window_ResetCurrentWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Window_ResetCurrentWindow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the database elements of the current window and sets up a new, empty environment. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADWINDOW - The current database is not a custom drawing or owned by an other addon. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete all elements from the current window. It returns an error if the active window is not a custom window owned by the caller addon. You can use the <a class="el" href="group___database.html#ga9b866ca813e8ce7f3662dcfd406f6bdc">ACAPI_Window_ResetCurrentDatabase</a> function to reset the content of any window being in the background. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>


</body>
</html>
