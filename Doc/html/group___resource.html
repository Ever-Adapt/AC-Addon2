<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Archicad C++ API: Resource handling</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>



<link href="doxygen.css" rel="stylesheet" type="text/css" />

</head>
<body>


<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  
  
  <td id="projectalign">
   <div id="projectname">Archicad C++ API
   </div>
   
  </td>
  
  
  
 </tr>
  
   
  
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___resource.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Resource handling</div></div>
</div><!--header-->
<div class="contents">

<p>Functions providing a way to access the compiled GRC resources of the AddOn. Used to define and read the localized strings and other resources in a platform-independent manner.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga849f4330cf5b460126aa1ca0aefbf9bd"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSResModule __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a> (void)</td></tr>
<tr class="memdesc:ga849f4330cf5b460126aa1ca0aefbf9bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the add-on's own resource module identifier for loading resources.  <br /></td></tr>
<tr class="separator:ga849f4330cf5b460126aa1ca0aefbf9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad16f1c3c5ae844497ad1a57500a242d6"><td class="memItemLeft" align="right" valign="top">__APIEXPORT bool __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___resource.html#gad16f1c3c5ae844497ad1a57500a242d6">ACAPI_Resource_GetLocStr</a> (char *str, short resID, short index, GSResModule resModule=<a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a>())</td></tr>
<tr class="memdesc:gad16f1c3c5ae844497ad1a57500a242d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a string from an 'STR# ' string list resource.  <br /></td></tr>
<tr class="separator:gad16f1c3c5ae844497ad1a57500a242d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fa4ff9be5da339ba47e1184b3a7291f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT bool __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___resource.html#ga2fa4ff9be5da339ba47e1184b3a7291f">ACAPI_Resource_GetLocUStr</a> (GS::uchar_t *str, short resID, short index, GSResModule resModule=<a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a>())</td></tr>
<tr class="memdesc:ga2fa4ff9be5da339ba47e1184b3a7291f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a unicode string from an 'STR# ' string list resource.  <br /></td></tr>
<tr class="separator:ga2fa4ff9be5da339ba47e1184b3a7291f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8384eb0012c5b5f00f5c8970004723b8"><td class="memItemLeft" align="right" valign="top">__APIEXPORT bool __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___resource.html#ga8384eb0012c5b5f00f5c8970004723b8">ACAPI_Resource_GetFixStr</a> (char *str, short resID, short index, GSResModule resModule=<a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a>())</td></tr>
<tr class="memdesc:ga8384eb0012c5b5f00f5c8970004723b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a string from an 'STRf ' string list resource.  <br /></td></tr>
<tr class="separator:ga8384eb0012c5b5f00f5c8970004723b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions providing a way to access the compiled GRC resources of the AddOn. Used to define and read the localized strings and other resources in a platform-independent manner. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga849f4330cf5b460126aa1ca0aefbf9bd" name="ga849f4330cf5b460126aa1ca0aefbf9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga849f4330cf5b460126aa1ca0aefbf9bd">&#9670;&#160;</a></span>ACAPI_GetOwnResModule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSResModule __ACENV_CALL ACAPI_GetOwnResModule </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the add-on's own resource module identifier for loading resources. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The identifier of the add-on's resource file. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can use the return values of this function wherever a reference to the add-on's own resource module is needed. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">bool</span>    result;</div>
<div class="line"> </div>
<div class="line">result = RSGetIndString (&amp;envir-&gt;addOnInfo.name, 32000, 1, <a class="code hl_function" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a> ());</div>
<div class="ttc" id="agroup___resource_html_ga849f4330cf5b460126aa1ca0aefbf9bd"><div class="ttname"><a href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a></div><div class="ttdeci">__APIEXPORT GSResModule __ACENV_CALL ACAPI_GetOwnResModule(void)</div><div class="ttdoc">Returns the add-on's own resource module identifier for loading resources.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga8384eb0012c5b5f00f5c8970004723b8" name="ga8384eb0012c5b5f00f5c8970004723b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8384eb0012c5b5f00f5c8970004723b8">&#9670;&#160;</a></span>ACAPI_Resource_GetFixStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT bool __ACENV_CALL ACAPI_Resource_GetFixStr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>resID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSResModule&#160;</td>
          <td class="paramname"><em>resModule</em> = <code><a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a string from an 'STRf ' string list resource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The pointer of the string. </td></tr>
    <tr><td class="paramname">resID</td><td>The resource ID of the ' STRf ' resource in the GRC file. </td></tr>
    <tr><td class="paramname">index</td><td>The index of the string in the resource. </td></tr>
    <tr><td class="paramname">resModule</td><td>[in] The resource module to load the resource from. The default value is the add-on's own resource module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true - The string was retrieved successfully.</li>
<li>false - The string wasn't retrieved. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to load a string from a string list resource, which is not required to localize. The GRC compiler uses the ' STRf ' resource type for this purpose. The different lines in the resource will be the indices referenced by index parameter. For more information about the structure of the GRC file please refer to the GRC documentation. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">See the example of <a class="code hl_function" href="group___resource.html#gad16f1c3c5ae844497ad1a57500a242d6">ACAPI_Resource_GetLocStr</a></div>
<div class="line">.</div>
<div class="ttc" id="agroup___resource_html_gad16f1c3c5ae844497ad1a57500a242d6"><div class="ttname"><a href="group___resource.html#gad16f1c3c5ae844497ad1a57500a242d6">ACAPI_Resource_GetLocStr</a></div><div class="ttdeci">__APIEXPORT bool __ACENV_CALL ACAPI_Resource_GetLocStr(char *str, short resID, short index, GSResModule resModule=ACAPI_GetOwnResModule())</div><div class="ttdoc">Reads a string from an 'STR# ' string list resource.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gad16f1c3c5ae844497ad1a57500a242d6" name="gad16f1c3c5ae844497ad1a57500a242d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad16f1c3c5ae844497ad1a57500a242d6">&#9670;&#160;</a></span>ACAPI_Resource_GetLocStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT bool __ACENV_CALL ACAPI_Resource_GetLocStr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>resID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSResModule&#160;</td>
          <td class="paramname"><em>resModule</em> = <code><a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a string from an 'STR# ' string list resource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>[out] The pointer of the string. </td></tr>
    <tr><td class="paramname">resID</td><td>[in] The resource ID of the ' STR# ' resource in the GRC file. </td></tr>
    <tr><td class="paramname">index</td><td>[in] The index of the string in the resource. </td></tr>
    <tr><td class="paramname">resModule</td><td>[in] The resource module to load the resource from. The default value is the add-on's own resource module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true - The string was retrieved successfully.</li>
<li>false - The string wasn't retrieved. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to load a string from a string list resource, which requires localization. The GRC compiler uses the ' STR# ' resource type for this purpose. The different lines in the resource will be the indices referenced by index parameter. For more information about the structure of the GRC file please refer to the GRC documentation. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">/* This is the according part of the GRC file: */</span></div>
<div class="line"> </div>
<div class="line"><span class="stringliteral">&#39;STR#&#39;</span> 32510 <span class="stringliteral">&quot;Fix strings&quot;</span> {</div>
<div class="line"><span class="comment">/* [  1] */</span> <span class="stringliteral">&quot;Saving the file in abc format&quot;</span></div>
<div class="line"><span class="comment">/* [  2] */</span> <span class="stringliteral">&quot;You have canceled the operation!&quot;</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* In the source of the add-on it can be referred like this */</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span>          own_res_str[256];</div>
<div class="line"><span class="keywordtype">bool</span>          succ;</div>
<div class="line"> </div>
<div class="line">succ = <a class="code hl_function" href="group___resource.html#gad16f1c3c5ae844497ad1a57500a242d6">ACAPI_Resource_GetLocStr</a> (own_res_str, 32510, 1, <a class="code hl_function" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a> ());</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (succ) {</div>
<div class="line">    <span class="comment">/* Writing the string in the Report Window */</span></div>
<div class="line">    <a class="code hl_function" href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a> (own_res_str, <span class="keyword">false</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup___dialog_html_ga87b7a0c6b301802ee09b3f1e715a91df"><div class="ttname"><a href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a></div><div class="ttdeci">__APIEXPORT void __ACENV_CALL ACAPI_WriteReport(const GS::UniString &amp;format, bool withDial,...)</div><div class="ttdoc">Writes a report string into the Report Windowot into a custom alert window.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga2fa4ff9be5da339ba47e1184b3a7291f" name="ga2fa4ff9be5da339ba47e1184b3a7291f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fa4ff9be5da339ba47e1184b3a7291f">&#9670;&#160;</a></span>ACAPI_Resource_GetLocUStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT bool __ACENV_CALL ACAPI_Resource_GetLocUStr </td>
          <td>(</td>
          <td class="paramtype">GS::uchar_t *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>resID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSResModule&#160;</td>
          <td class="paramname"><em>resModule</em> = <code><a class="el" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a unicode string from an 'STR# ' string list resource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>[out] The pointer of the string. </td></tr>
    <tr><td class="paramname">resID</td><td>[in] The resource ID of the ' STR# ' resource in the GRC file. </td></tr>
    <tr><td class="paramname">index</td><td>[in] The index of the string in the resource. </td></tr>
    <tr><td class="paramname">resModule</td><td>[in] The resource module to load the resource from. The default value is the add-on's own resource module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true - The string was retrieved successfully.</li>
<li>false - The string wasn't retrieved. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to load a Unicode string from a string list resource, which requires localization. The GRC compiler uses the ' STR# ' resource type for this purpose. The different lines in the resource will be the indices referenced by index parameter. For more information about the structure of the GRC file please refer to the GRC documentation. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">/* This is the according part of the GRC file: */</span></div>
<div class="line"> </div>
<div class="line"><span class="stringliteral">&#39;STR#&#39;</span> 32530 <span class="stringliteral">&quot;Localizable strings&quot;</span> {</div>
<div class="line"><span class="comment">/* [  1] */</span> <span class="stringliteral">&quot;Saving the file in abc format&quot;</span></div>
<div class="line"><span class="comment">/* [  2] */</span> <span class="stringliteral">&quot;MISSING&quot;</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* In the source of the add-on it can be referred like this */</span></div>
<div class="line"> </div>
<div class="line">UC257HeadData  header;</div>
<div class="line"><span class="keywordtype">bool</span>           succ;</div>
<div class="line"> </div>
<div class="line">succ = <a class="code hl_function" href="group___resource.html#ga2fa4ff9be5da339ba47e1184b3a7291f">ACAPI_Resource_GetLocUStr</a> (header.missingName, 32530, 2, <a class="code hl_function" href="group___resource.html#ga849f4330cf5b460126aa1ca0aefbf9bd">ACAPI_GetOwnResModule</a> ());</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (succ) {</div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="ttc" id="agroup___resource_html_ga2fa4ff9be5da339ba47e1184b3a7291f"><div class="ttname"><a href="group___resource.html#ga2fa4ff9be5da339ba47e1184b3a7291f">ACAPI_Resource_GetLocUStr</a></div><div class="ttdeci">__APIEXPORT bool __ACENV_CALL ACAPI_Resource_GetLocUStr(GS::uchar_t *str, short resID, short index, GSResModule resModule=ACAPI_GetOwnResModule())</div><div class="ttdoc">Reads a unicode string from an 'STR# ' string list resource.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>


</body>
</html>
