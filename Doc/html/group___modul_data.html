<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Archicad C++ API: Custom Modul Data</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>



<link href="doxygen.css" rel="stylesheet" type="text/css" />

</head>
<body>


<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  
  
  <td id="projectalign">
   <div id="projectname">Archicad C++ API
   </div>
   
  </td>
  
  
  
 </tr>
  
   
  
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___modul_data.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Custom Modul Data</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for creating, handling and deleting custom (Add-On specific) Modul Data. Differs from User Data in not being attached to specific elements or element groups. This is a legacy technology, please use Add-On Objects instead.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control information of a custom data section saved into the project file.  <a href="struct_a_p_i___modul_data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6ef5e38eb0c882476e24649c86565aa1"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___modul_data.html#ga6ef5e38eb0c882476e24649c86565aa1">ACAPI_ModulData_Store</a> (const <a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> *info, const GS::UniString &amp;modulName=&quot;&quot;)</td></tr>
<tr class="memdesc:ga6ef5e38eb0c882476e24649c86565aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves a custom data section into the project database.  <br /></td></tr>
<tr class="separator:ga6ef5e38eb0c882476e24649c86565aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a49bac76dfa268f95fc7899df0780ec"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___modul_data.html#ga5a49bac76dfa268f95fc7899df0780ec">ACAPI_ModulData_GetInfo</a> (<a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> *info, const GS::UniString &amp;modulName=&quot;&quot;)</td></tr>
<tr class="memdesc:ga5a49bac76dfa268f95fc7899df0780ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on the custom data section stored in the project database.  <br /></td></tr>
<tr class="separator:ga5a49bac76dfa268f95fc7899df0780ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga830bf6db82f3afcb6b397de501842b43"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a> (<a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> *info, const GS::UniString &amp;modulName=&quot;&quot;)</td></tr>
<tr class="memdesc:ga830bf6db82f3afcb6b397de501842b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data section stored in the project database.  <br /></td></tr>
<tr class="separator:ga830bf6db82f3afcb6b397de501842b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a38db8a6243ada3d87e1284a199628f"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___modul_data.html#ga7a38db8a6243ada3d87e1284a199628f">ACAPI_ModulData_GetList</a> (GS::Array&lt; GS::UniString &gt; *modulNameList)</td></tr>
<tr class="memdesc:ga7a38db8a6243ada3d87e1284a199628f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of names of the custom data sections stored in the project database.  <br /></td></tr>
<tr class="separator:ga7a38db8a6243ada3d87e1284a199628f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2de77ebb6dffddd212d04bb1d6748a58"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___modul_data.html#ga2de77ebb6dffddd212d04bb1d6748a58">ACAPI_ModulData_Delete</a> (const GS::UniString &amp;modulName=&quot;&quot;)</td></tr>
<tr class="memdesc:ga2de77ebb6dffddd212d04bb1d6748a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the custom data section stored in the project database.  <br /></td></tr>
<tr class="separator:ga2de77ebb6dffddd212d04bb1d6748a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for creating, handling and deleting custom (Add-On specific) Modul Data. Differs from User Data in not being attached to specific elements or element groups. This is a legacy technology, please use Add-On Objects instead. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2de77ebb6dffddd212d04bb1d6748a58" name="ga2de77ebb6dffddd212d04bb1d6748a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2de77ebb6dffddd212d04bb1d6748a58">&#9670;&#160;</a></span>ACAPI_ModulData_Delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_Delete </td>
          <td>(</td>
          <td class="paramtype">const GS::UniString &amp;&#160;</td>
          <td class="paramname"><em>modulName</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the custom data section stored in the project database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modulName</td><td>[in] Identifier name of the modul data (optional). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The information was returned successfully.</li>
<li>APIERR_NOMODULEDATA - No custom data section is saved into the project file identified by the add-on's unique modul ID and the modulName parameter. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete the custom data section embedded in the project database. Calling <a class="el" href="group___modul_data.html#ga2de77ebb6dffddd212d04bb1d6748a58">ACAPI_ModulData_Delete</a> is equivalent to <a class="el" href="group___modul_data.html#ga6ef5e38eb0c882476e24649c86565aa1">ACAPI_ModulData_Store</a> (nullptr). This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="ga830bf6db82f3afcb6b397de501842b43" name="ga830bf6db82f3afcb6b397de501842b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga830bf6db82f3afcb6b397de501842b43">&#9670;&#160;</a></span>ACAPI_ModulData_Get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GS::UniString &amp;&#160;</td>
          <td class="paramname"><em>modulName</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the data section stored in the project database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>[out] Contains the the custom data stored in the project file on return. </td></tr>
    <tr><td class="paramname">modulName</td><td>[in] Identifier name of the modul data (optional). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed successfully.</li>
<li>APIERR_BADPARS - The info parameter is nullptr.</li>
<li>APIERR_NOMODULEDATA - No custom data section is saved into the project file identified by the add-on's unique modul ID and the modulName parameter. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to retrieve the data bytes of the custom data section embedded into the project database, identified with the given modulName.<ul>
<li>Always check the platformSign returned in the <a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> structure. Call the necessary byte swapping methods to ensure correct data format. Refer to the GSRoot documentation to have further details on the byte swapping methods.</li>
<li>Always check the dataVersion returned in the <a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> structure. Old data formats should be handled to keep backward compatibility (see also APIModulDataSaveOldFormatHandlerProc). Archicad allocates the target buffer in the dataHdl field of info ; the caller add-on is responsible to dispose it with BMKillHandle. In order to check whether there is moduldata with the specified identifier stored into the current project, it is recommended to use the <a class="el" href="group___modul_data.html#ga5a49bac76dfa268f95fc7899df0780ec">ACAPI_ModulData_GetInfo</a> function, which does not retrieves the data itself but the version and platform information. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GSErrCode MyDataClass::LoadFromModulData (<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___modul_data.html">API_ModulData</a>  info;</div>
<div class="line">    GSErrCode      err;</div>
<div class="line"> </div>
<div class="line">    BNZeroMemory (&amp;info, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___modul_data.html">API_ModulData</a>));</div>
<div class="line">    err = <a class="code hl_function" href="group___modul_data.html#ga5a49bac76dfa268f95fc7899df0780ec">ACAPI_ModulData_GetInfo</a> (&amp;info, <span class="stringliteral">&quot;MyFirstDataBlock&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (err != NoError) {</div>
<div class="line">        <span class="keywordflow">if</span> (err == APIERR_NOMODULEDATA)</div>
<div class="line">            err = NoError;</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    err = <a class="code hl_function" href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a> (&amp;info, <span class="stringliteral">&quot;MyFirstDataBlock&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (err == NoError &amp;&amp; info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa75d22a450fac1c7e432c8a699f8f891">dataVersion</a> == 1) {</div>
<div class="line">        myDataClassIntMember = *(<span class="keyword">reinterpret_cast&lt;</span>Int32*<span class="keyword">&gt;</span> (*info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a>));</div>
<div class="line">        <span class="keywordflow">if</span> (info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#a41a0671ef7874abc1f9d8d7c15bc3dae">platformSign</a> != GS::Act_Platform_Sign) {   <span class="comment">// swap data bytes</span></div>
<div class="line">            IVLong ((GS::PlatformSign) info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#a41a0671ef7874abc1f9d8d7c15bc3dae">platformSign</a>, &amp;myDataClassIntMember);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    BMKillHandle (&amp;info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a>);</div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___modul_data_html_ga5a49bac76dfa268f95fc7899df0780ec"><div class="ttname"><a href="group___modul_data.html#ga5a49bac76dfa268f95fc7899df0780ec">ACAPI_ModulData_GetInfo</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_GetInfo(API_ModulData *info, const GS::UniString &amp;modulName=&quot;&quot;)</div><div class="ttdoc">Returns information on the custom data section stored in the project database.</div></div>
<div class="ttc" id="agroup___modul_data_html_ga830bf6db82f3afcb6b397de501842b43"><div class="ttname"><a href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_Get(API_ModulData *info, const GS::UniString &amp;modulName=&quot;&quot;)</div><div class="ttdoc">Returns the data section stored in the project database.</div></div>
<div class="ttc" id="astruct_a_p_i___modul_data_html"><div class="ttname"><a href="struct_a_p_i___modul_data.html">API_ModulData</a></div><div class="ttdoc">Control information of a custom data section saved into the project file.</div><div class="ttdef"><b>Definition:</b> APIdefs_ModulData.h:59</div></div>
<div class="ttc" id="astruct_a_p_i___modul_data_html_a41a0671ef7874abc1f9d8d7c15bc3dae"><div class="ttname"><a href="struct_a_p_i___modul_data.html#a41a0671ef7874abc1f9d8d7c15bc3dae">API_ModulData::platformSign</a></div><div class="ttdeci">unsigned short platformSign</div><div class="ttdoc">Byte ordering in data storage (can be either GS::Win_Platform_Sign, GS::Mac_Platform_Sign or GS::Mact...</div><div class="ttdef"><b>Definition:</b> APIdefs_ModulData.h:69</div></div>
<div class="ttc" id="astruct_a_p_i___modul_data_html_aa75d22a450fac1c7e432c8a699f8f891"><div class="ttname"><a href="struct_a_p_i___modul_data.html#aa75d22a450fac1c7e432c8a699f8f891">API_ModulData::dataVersion</a></div><div class="ttdeci">Int32 dataVersion</div><div class="ttdoc">Data version; use this for backward compatibility.</div><div class="ttdef"><b>Definition:</b> APIdefs_ModulData.h:64</div></div>
<div class="ttc" id="astruct_a_p_i___modul_data_html_aa8df535464e28f9592b75bb47ede19dc"><div class="ttname"><a href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">API_ModulData::dataHdl</a></div><div class="ttdeci">GSHandle dataHdl</div><div class="ttdoc">User specified data (cannot be nullptr).</div><div class="ttdef"><b>Definition:</b> APIdefs_ModulData.h:75</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga5a49bac76dfa268f95fc7899df0780ec" name="ga5a49bac76dfa268f95fc7899df0780ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a49bac76dfa268f95fc7899df0780ec">&#9670;&#160;</a></span>ACAPI_ModulData_GetInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_GetInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GS::UniString &amp;&#160;</td>
          <td class="paramname"><em>modulName</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information on the custom data section stored in the project database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>[out] The version and platform information of the stored moduldata. </td></tr>
    <tr><td class="paramname">modulName</td><td>[in] Identifier name of the modul data (optional). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The information was returned successfully.</li>
<li>APIERR_BADPARS - The info parameter is nullptr.</li>
<li>APIERR_NOMODULEDATA - No custom data section is saved into the project file identified by the add-on's unique modul ID and the modulName parameter. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to retrieve version and platform information on the custom data section embedded in the project database, identified with the given modulName. In order to get the stored data itself, use the <a class="el" href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a> function. </dd></dl>

</div>
</div>
<a id="ga7a38db8a6243ada3d87e1284a199628f" name="ga7a38db8a6243ada3d87e1284a199628f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a38db8a6243ada3d87e1284a199628f">&#9670;&#160;</a></span>ACAPI_ModulData_GetList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_GetList </td>
          <td>(</td>
          <td class="paramtype">GS::Array&lt; GS::UniString &gt; *&#160;</td>
          <td class="paramname"><em>modulNameList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of names of the custom data sections stored in the project database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modulNameList</td><td>[out] List of moduldata names stored by the add-on into the current project. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The information was returned successfully.</li>
<li>APIERR_BADPARS - The modulNameList parameter is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to retrieve a list of names of the custom data sections embedded by the add-on in the project database. In order to get the stored data itself, use the <a class="el" href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a> function using the names retrieved in the list. Empty list means no custom data section is stored in the project. If the project was saved in earlier format than Archicad 13, the modul name of the stored custom data is empty string (""). </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GS::Array&lt;GS::UniString&gt; modulNameList;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group___modul_data.html#ga7a38db8a6243ada3d87e1284a199628f">ACAPI_ModulData_GetList</a> (&amp;modulNameList);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (GS::Array&lt;GS::UniString&gt;::ConstIterator it = modulNameList.Enumerate (); it != <span class="keyword">nullptr</span>; ++it) {</div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___modul_data.html">API_ModulData</a> modulData;</div>
<div class="line">    BNZeroMemory (&amp;modulData, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___modul_data.html">API_ModulData</a>));</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a> (&amp;modulData, *it) == NoError) {</div>
<div class="line">        <span class="comment">// do something with the moduldata</span></div>
<div class="line">    }</div>
<div class="line">    BMKillHandle (&amp;modulData.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup___modul_data_html_ga7a38db8a6243ada3d87e1284a199628f"><div class="ttname"><a href="group___modul_data.html#ga7a38db8a6243ada3d87e1284a199628f">ACAPI_ModulData_GetList</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_GetList(GS::Array&lt; GS::UniString &gt; *modulNameList)</div><div class="ttdoc">Returns a list of names of the custom data sections stored in the project database.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga6ef5e38eb0c882476e24649c86565aa1" name="ga6ef5e38eb0c882476e24649c86565aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ef5e38eb0c882476e24649c86565aa1">&#9670;&#160;</a></span>ACAPI_ModulData_Store()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_Store </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___modul_data.html">API_ModulData</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GS::UniString &amp;&#160;</td>
          <td class="paramname"><em>modulName</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves a custom data section into the project database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>[in] The module data to store. It also includes platform and version information. </td></tr>
    <tr><td class="paramname">modulName</td><td>[in] Identifier name of the modul data (optional). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - the function completed successfully</li>
<li>APIERR_BADPARS - the passed dataHdl parameter is nullptr</li>
<li>APIERR_BADPLATFORMSIGN - the platformSign passed in info is not valid</li>
<li>APIERR_NOMODULEDATA - no custom data section is saved into the project file to be deleted</li>
<li>APIERR_MEMFULL - failed memory allocation</li>
<li>APIERR_GENERAL - a general error </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to embed a custom data section into the project database. The data section in the project is identified uniquely using the 'MDID' of the caller add-on and the passed modulName identifier. The dataHdl handle has to be allocated and released using the c%20Memory%20Manager"&gt; BM memory manager functions of the GSRoot module. The data content can be copied into the handle directly, or you can use the allocated memory block as a memory channel (see IO::MemoryOChannel). In order to remove the saved module data from the project, you can simply pass nullptr pointer in the info parameter. The same effect can be achieved with the <a class="el" href="group___modul_data.html#ga2de77ebb6dffddd212d04bb1d6748a58">ACAPI_ModulData_Delete</a> function. To retrieve the stored section use the <a class="el" href="group___modul_data.html#ga5a49bac76dfa268f95fc7899df0780ec">ACAPI_ModulData_GetInfo</a> and <a class="el" href="group___modul_data.html#ga830bf6db82f3afcb6b397de501842b43">ACAPI_ModulData_Get</a> functions. You can also get a list of names of all modules stored by the add-on with the <a class="el" href="group___modul_data.html#ga7a38db8a6243ada3d87e1284a199628f">ACAPI_ModulData_GetList</a> function. If you need to save different format moduldata back into previous version project file, you should implement an APIModulDataSaveOldFormatHandlerProc callback function, which prepares the necessary data in the format corresponding to the project version. You might also need to merge data of the modules conflicting due to a merge or Teamwork receive operation. In order to properly resolve the conflicts you can implement an APIModulDataMergeHandlerProc callback function. For further details refer to the ModulData Manager overview. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GSErrCode MyDataClass::SaveIntoModulData (<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    GSErrCode err = NoError;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___modul_data.html">API_ModulData</a> info;</div>
<div class="line">    BNZeroMemory (&amp;info, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___modul_data.html">API_ModulData</a>));</div>
<div class="line">    info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa75d22a450fac1c7e432c8a699f8f891">dataVersion</a> = 1;</div>
<div class="line">    info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#a41a0671ef7874abc1f9d8d7c15bc3dae">platformSign</a> = GS::Act_Platform_Sign;</div>
<div class="line">    info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a> = BMAllocateHandle (<span class="keyword">sizeof</span> (myDataClassIntMember), 0, 0);</div>
<div class="line">    <span class="keywordflow">if</span> (info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line">        *(<span class="keyword">reinterpret_cast&lt;</span>Int32*<span class="keyword">&gt;</span> (*info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a>)) = myDataClassIntMember;</div>
<div class="line">        err = <a class="code hl_function" href="group___modul_data.html#ga6ef5e38eb0c882476e24649c86565aa1">ACAPI_ModulData_Store</a> (&amp;info, <span class="stringliteral">&quot;MyFirstDataBlock&quot;</span>);</div>
<div class="line">        BMKillHandle (&amp;info.<a class="code hl_variable" href="struct_a_p_i___modul_data.html#aa8df535464e28f9592b75bb47ede19dc">dataHdl</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        err = APIERR_MEMFULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___modul_data_html_ga6ef5e38eb0c882476e24649c86565aa1"><div class="ttname"><a href="group___modul_data.html#ga6ef5e38eb0c882476e24649c86565aa1">ACAPI_ModulData_Store</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_ModulData_Store(const API_ModulData *info, const GS::UniString &amp;modulName=&quot;&quot;)</div><div class="ttdoc">Saves a custom data section into the project database.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>


</body>
</html>
