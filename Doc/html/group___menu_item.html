<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Archicad C++ API: Menu integration</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>



<link href="doxygen.css" rel="stylesheet" type="text/css" />

</head>
<body>


<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  
  
  <td id="projectalign">
   <div id="projectname">Archicad C++ API
   </div>
   
  </td>
  
  
  
 </tr>
  
   
  
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___menu_item.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Menu integration</div></div>
</div><!--header-->
<div class="contents">

<p>Functions providing a way to integrate the Add-On into the menu structure of Archicad.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to a menu item mounted by the API tool add-on.  <a href="struct_a_p_i___menu_item_ref.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae7782179a03e5a2f34a4940b46b86623"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623">APIMenuCodeID</a> { <br />
&#160;&#160;<a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623ae12864dedfac94a3757780311667dec2">MenuCode_UserDef</a> = 0
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623aa7869a67baaab6dc11235ced783027dd">MenuCode_File</a> = 1
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a1ec4de772256e439057e4d91b2e338af">MenuCode_Edit1</a> = 2
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623af2880a4550c9aecda40f4c4397d97bd0">MenuCode_Edit2</a> = 3
, <br />
&#160;&#160;<a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a4547393ff218a464df91cb4119533de6">MenuCode_Edit3</a> = 4
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a97e315116aa95528a6497b4633698e86">MenuCode_Tools</a> = 5
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623ab88951f758b321ff3592d7802f350d33">MenuCode_Options1</a> = 6
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a6aae5cf38db46678a9c205d460e24137">MenuCode_Options2</a> = 7
, <br />
&#160;&#160;<a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623ab8e76a23671e00d5e38412b083e60bfd">MenuCode_Image</a> = 8
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a2aa2c7c98c3c3d5d720844f23c4f92df">MenuCode_Calculate</a> = 9
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623ae3f92a3596da52738756dcbd52a9c863">MenuCode_TeamWork</a> = 10
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a709760d668ce5780cf71a8b92e4a8bd3">MenuCode_Display</a> = 11
, <br />
&#160;&#160;<a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623aba45f53d6028e4ae0040bab3d1c17e0b">MenuCode_Palettes</a> = 12
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a1f06add446ce7c449b75a5353b4f7bb9">MenuCode_Extras</a> = 13
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a212dbcebfce5bf8110a89576367df469">MenuCode_Hotlink</a> = 14
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623aed967cb076ab55d25cdc8699c0fc0a6c">MenuCode_GDLObjects</a> = 15
, <br />
&#160;&#160;<a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a5446f65ed1340dd99f4ca58ad492377c">MenuCode_3DView</a> = 16
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a0d685b917bcee9aa06e599258f6a8cce">MenuCode_DocExtras</a> = 17
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623a7ce934469958f239517d6322552c84d4">MenuCode_Interoperability</a> = 18
, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623ac351989f16931bd4f3bda933a8ca19d7">MenuCode_ModelCheck</a> = 19
<br />
 }</td></tr>
<tr class="memdesc:gae7782179a03e5a2f34a4940b46b86623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the menu where the add-on's menu command will appear.  <a href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623">More...</a><br /></td></tr>
<tr class="separator:gae7782179a03e5a2f34a4940b46b86623"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga85b9aceb79f5ef14d1823b1cf0e8113b"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#ga85b9aceb79f5ef14d1823b1cf0e8113b">ACAPI_MenuItem_GetMenuItemFlags</a> (const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *menuItemRef, GSFlags *itemFlags, GS::UniString *menuItemText=nullptr)</td></tr>
<tr class="memdesc:ga85b9aceb79f5ef14d1823b1cf0e8113b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the flag values of the specified menu item mounted by API tool add-on.  <br /></td></tr>
<tr class="separator:ga85b9aceb79f5ef14d1823b1cf0e8113b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb9ecb5cedbeec24026c4c50fbdb2d7a"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#gaeb9ecb5cedbeec24026c4c50fbdb2d7a">ACAPI_MenuItem_SetMenuItemFlags</a> (const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *menuItemRef, GSFlags *itemFlags, GS::UniString *menuItemText=nullptr)</td></tr>
<tr class="memdesc:gaeb9ecb5cedbeec24026c4c50fbdb2d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag values of the specified menu item.  <br /></td></tr>
<tr class="separator:gaeb9ecb5cedbeec24026c4c50fbdb2d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8bbd0ce75648f38bf2da8ba78390d03"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#gac8bbd0ce75648f38bf2da8ba78390d03">ACAPI_MenuItem_GetMenuItemText</a> (const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *menuItemRef, char *itemText, GS::UniString *itemUniText=nullptr)</td></tr>
<tr class="memdesc:gac8bbd0ce75648f38bf2da8ba78390d03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the text of the specified menu item.  <br /></td></tr>
<tr class="separator:gac8bbd0ce75648f38bf2da8ba78390d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8868053a94017aef089960b1b543dd6b"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#ga8868053a94017aef089960b1b543dd6b">ACAPI_MenuItem_SetMenuItemText</a> (const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *menuItemRef, char *itemText, GS::UniString *itemUniText=nullptr)</td></tr>
<tr class="memdesc:ga8868053a94017aef089960b1b543dd6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the text of the specified menu item.  <br /></td></tr>
<tr class="separator:ga8868053a94017aef089960b1b543dd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac615a9d04854182e0d635d6a89041ec2"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#gac615a9d04854182e0d635d6a89041ec2">ACAPI_MenuItem_AddMenuItemText</a> (const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *menuItemRef, char *weText, GS::UniString *weUniText=nullptr)</td></tr>
<tr class="memdesc:gac615a9d04854182e0d635d6a89041ec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the text of a specified menu item that will appear in the Work Environment dialog.  <br /></td></tr>
<tr class="separator:gac615a9d04854182e0d635d6a89041ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabee245113d865f04a9f228344e9c4452"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#gabee245113d865f04a9f228344e9c4452">ACAPI_MenuItem_RegisterMenu</a> (short menuStrResID, short promptStrResID, <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623">APIMenuCodeID</a> menuPosCode, GSFlags menuFlags)</td></tr>
<tr class="memdesc:gabee245113d865f04a9f228344e9c4452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the menu items of the add-on.  <br /></td></tr>
<tr class="separator:gabee245113d865f04a9f228344e9c4452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7d3015c673c847c917aa3ddd1c65e3a"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___menu_item.html#gaa7d3015c673c847c917aa3ddd1c65e3a">ACAPI_MenuItem_InstallMenuHandler</a> (short menuStrResID, <a class="el" href="group___add_on_integration.html#ga613e7bcd52b46fbffc82b78638c9c5a1">APIMenuCommandProc</a> *handlerProc)</td></tr>
<tr class="memdesc:gaa7d3015c673c847c917aa3ddd1c65e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Installs a callback procedure for handling the add-on's menu commands.  <br /></td></tr>
<tr class="separator:gaa7d3015c673c847c917aa3ddd1c65e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions providing a way to integrate the Add-On into the menu structure of Archicad. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gae7782179a03e5a2f34a4940b46b86623" name="gae7782179a03e5a2f34a4940b46b86623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7782179a03e5a2f34a4940b46b86623">&#9670;&#160;</a></span>APIMenuCodeID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623">APIMenuCodeID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the menu where the add-on's menu command will appear. </p>
<dl class="section since"><dt>Since</dt><dd>Archicad 26 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This structure is used in the <a class="el" href="group___menu_item.html#gabee245113d865f04a9f228344e9c4452">ACAPI_MenuItem_RegisterMenu</a> function. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac615a9d04854182e0d635d6a89041ec2" name="gac615a9d04854182e0d635d6a89041ec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac615a9d04854182e0d635d6a89041ec2">&#9670;&#160;</a></span>ACAPI_MenuItem_AddMenuItemText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_AddMenuItemText </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *&#160;</td>
          <td class="paramname"><em>menuItemRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>weText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *&#160;</td>
          <td class="paramname"><em>weUniText</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the text of a specified menu item that will appear in the Work Environment dialog. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuItemRef</td><td>[in] The referenced menu item. </td></tr>
    <tr><td class="paramname">weText</td><td>[in] The text (if you don't pass weUniText) that will appear as the name of the menu item in the menu customization part of the work environment dialog. </td></tr>
    <tr><td class="paramname">weUniText</td><td>[in] The Unicode text that will appear as the name of the menu item in the menu customization part of the work environment dialog. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - menuItemRef or both itemText and itemUniText are nullptr </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>We use this function mainly for palettes. In the Palettes menu the item is usually the title of the palette (e.g. "Element Information"), whereas in the Work Environment dialog it reads "Show/Hide Element Information". </dd></dl>

</div>
</div>
<a id="ga85b9aceb79f5ef14d1823b1cf0e8113b" name="ga85b9aceb79f5ef14d1823b1cf0e8113b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85b9aceb79f5ef14d1823b1cf0e8113b">&#9670;&#160;</a></span>ACAPI_MenuItem_GetMenuItemFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_GetMenuItemFlags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *&#160;</td>
          <td class="paramname"><em>menuItemRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSFlags *&#160;</td>
          <td class="paramname"><em>itemFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *&#160;</td>
          <td class="paramname"><em>menuItemText</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the flag values of the specified menu item mounted by API tool add-on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuItemRef</td><td>[in] Identifies the menu item. </td></tr>
    <tr><td class="paramname">itemFlags</td><td>[out] Menu item flags. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Flag Value   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_MenuItemDisabled   </td><td class="markdownTableBodyNone">The menu item is currently disabled    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_MenuItemChecked   </td><td class="markdownTableBodyNone">The menu item is currently checked   </td></tr>
</table>
</td></tr>
    <tr><td class="paramname">menuItemText</td><td>[out] Optional Unicode menu item text to get. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - any of the parameters are nullptr</li>
<li>APIERR_BADINDEX - the specified menu item does not belong to the caller add-on </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the current status of a menu item which belongs to the caller API tool add-on. The menu item is referenced with the resource ID and the string number. To change the status of a menu item use the <a class="el" href="group___menu_item.html#gaeb9ecb5cedbeec24026c4c50fbdb2d7a">ACAPI_MenuItem_SetMenuItemFlags</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span>    EnableACMenuItem (<span class="keywordtype">short</span> itemInd, <span class="keywordtype">bool</span> enable)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> itemRef;</div>
<div class="line">    GSFlags         itemFlags;</div>
<div class="line"> </div>
<div class="line">    BNZeroMemory (&amp;itemRef, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a>));</div>
<div class="line">    itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#a77572c26da12a391e9aafa6977eb0601">menuResID</a> = 32500;</div>
<div class="line">    itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#aea355492c965e098bba0727ec946ff99">itemIndex</a> = itemInd;</div>
<div class="line"> </div>
<div class="line">    itemFlags = 0;</div>
<div class="line">    ACAPI_Interface (APIIo_GetMenuItemFlagsID, &amp;itemRef, &amp;itemFlags);</div>
<div class="line">    <span class="keywordflow">if</span> (enable)</div>
<div class="line">        itemFlags &amp;= ~API_MenuItemDisabled;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        itemFlags |= API_MenuItemDisabled;</div>
<div class="line">    ACAPI_Interface (APIIo_SetMenuItemFlagsID, &amp;itemRef, &amp;itemFlags);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}       <span class="comment">// EnableACMenuItem</span></div>
<div class="ttc" id="astruct_a_p_i___menu_item_ref_html"><div class="ttname"><a href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a></div><div class="ttdoc">Reference to a menu item mounted by the API tool add-on.</div><div class="ttdef"><b>Definition:</b> APIdefs_Interface.h:125</div></div>
<div class="ttc" id="astruct_a_p_i___menu_item_ref_html_a77572c26da12a391e9aafa6977eb0601"><div class="ttname"><a href="struct_a_p_i___menu_item_ref.html#a77572c26da12a391e9aafa6977eb0601">API_MenuItemRef::menuResID</a></div><div class="ttdeci">short menuResID</div><div class="ttdoc">The resource ID which the tool command belongs to.</div><div class="ttdef"><b>Definition:</b> APIdefs_Interface.h:130</div></div>
<div class="ttc" id="astruct_a_p_i___menu_item_ref_html_aea355492c965e098bba0727ec946ff99"><div class="ttname"><a href="struct_a_p_i___menu_item_ref.html#aea355492c965e098bba0727ec946ff99">API_MenuItemRef::itemIndex</a></div><div class="ttdeci">Int32 itemIndex</div><div class="ttdoc">The index of the command within the specified menu.</div><div class="ttdef"><b>Definition:</b> APIdefs_Interface.h:136</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gac8bbd0ce75648f38bf2da8ba78390d03" name="gac8bbd0ce75648f38bf2da8ba78390d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8bbd0ce75648f38bf2da8ba78390d03">&#9670;&#160;</a></span>ACAPI_MenuItem_GetMenuItemText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_GetMenuItemText </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *&#160;</td>
          <td class="paramname"><em>menuItemRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>itemText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *&#160;</td>
          <td class="paramname"><em>itemUniText</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the text of the specified menu item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuItemRef</td><td>[in] Identifies the menu item. </td></tr>
    <tr><td class="paramname">itemText</td><td>[out] Menu item text (if you don't pass itemUniText). </td></tr>
    <tr><td class="paramname">itemUniText</td><td>[out] Optional Unicode menu item text to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - menuItemRef or both itemText and itemUniText are nullptr</li>
<li>APIERR_BADINDEX - the specified menu item does not belong to the caller add-on </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the text of a menu item which belongs to the caller API tool add-on. The menu item is referenced with the resource ID and the string number. To change the text of a menu item use the <a class="el" href="group___menu_item.html#ga8868053a94017aef089960b1b543dd6b">ACAPI_MenuItem_SetMenuItemText</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span>    ReportChosenCommand (<span class="keywordtype">short</span> menuResID, <span class="keywordtype">short</span> itemInd)</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a>     itemRef;</div>
<div class="line">    <span class="keywordtype">char</span>                itemStr [256], message [256];</div>
<div class="line"> </div>
<div class="line">    BNZeroMemory (&amp;itemRef, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a>));</div>
<div class="line">    itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#a77572c26da12a391e9aafa6977eb0601">menuResID</a> = menuResID;</div>
<div class="line">    itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#aea355492c965e098bba0727ec946ff99">itemIndex</a> = itemInd;</div>
<div class="line">    <span class="keywordflow">if</span> (ACAPI_Interface (APIIo_GetMenuItemTextID, &amp;itemRef, itemStr) == NoError) {</div>
<div class="line">        sprintf (message, <span class="stringliteral">&quot;You have chosen the %s command&quot;</span>, itemStr);</div>
<div class="line">        <a class="code hl_function" href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a> (itemStr, <span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___dialog_html_ga87b7a0c6b301802ee09b3f1e715a91df"><div class="ttname"><a href="group___dialog.html#ga87b7a0c6b301802ee09b3f1e715a91df">ACAPI_WriteReport</a></div><div class="ttdeci">__APIEXPORT void __ACENV_CALL ACAPI_WriteReport(const GS::UniString &amp;format, bool withDial,...)</div><div class="ttdoc">Writes a report string into the Report Windowot into a custom alert window.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaa7d3015c673c847c917aa3ddd1c65e3a" name="gaa7d3015c673c847c917aa3ddd1c65e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7d3015c673c847c917aa3ddd1c65e3a">&#9670;&#160;</a></span>ACAPI_MenuItem_InstallMenuHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_InstallMenuHandler </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>menuStrResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___add_on_integration.html#ga613e7bcd52b46fbffc82b78638c9c5a1">APIMenuCommandProc</a> *&#160;</td>
          <td class="paramname"><em>handlerProc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Installs a callback procedure for handling the add-on's menu commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuStrResID</td><td>[in] An identifier of the menu to install the callback procedure for. This should be the same what you used in the <a class="el" href="group___menu_item.html#gabee245113d865f04a9f228344e9c4452">ACAPI_MenuItem_RegisterMenu</a> as a menu string resource number in the RegisterInterface function. </td></tr>
    <tr><td class="paramname">handlerProc</td><td>[in] The callback function to handle the menu commands. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function should be called in the Initialize function of your add-on. It installs the callback function which is called when the user chooses one of your menu commands. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// Called when the add-on has been loaded into memory</span></div>
<div class="line"><span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line">GSErrCode __ACENV_CALL  <a class="code hl_function" href="group___add_on_lifetime.html#ga585642df3fff4d7ef06576cd3efeea13">Initialize</a> (<span class="keywordtype">void</span>)</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    GSErrCode    err = NoError;</div>
<div class="line"> </div>
<div class="line">    err = <a class="code hl_function" href="group___menu_item.html#gaa7d3015c673c847c917aa3ddd1c65e3a">ACAPI_MenuItem_InstallMenuHandler</a> (32500, <a class="code hl_typedef" href="group___add_on_integration.html#ga613e7bcd52b46fbffc82b78638c9c5a1">APIMenuCommandProc</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}   <span class="comment">// Initialize</span></div>
<div class="ttc" id="agroup___add_on_integration_html_ga613e7bcd52b46fbffc82b78638c9c5a1"><div class="ttname"><a href="group___add_on_integration.html#ga613e7bcd52b46fbffc82b78638c9c5a1">APIMenuCommandProc</a></div><div class="ttdeci">GSErrCode __ACENV_CALL APIMenuCommandProc(const API_MenuParams *menuParams)</div><div class="ttdoc">User supplied callback procedure for handling menu commands.</div><div class="ttdef"><b>Definition:</b> APIdefs_Callback.h:479</div></div>
<div class="ttc" id="agroup___add_on_lifetime_html_ga585642df3fff4d7ef06576cd3efeea13"><div class="ttname"><a href="group___add_on_lifetime.html#ga585642df3fff4d7ef06576cd3efeea13">Initialize</a></div><div class="ttdeci">GSErrCode __ACDLL_CALL Initialize(void)</div><div class="ttdoc">The main entry point of the add-on.</div></div>
<div class="ttc" id="agroup___menu_item_html_gaa7d3015c673c847c917aa3ddd1c65e3a"><div class="ttname"><a href="group___menu_item.html#gaa7d3015c673c847c917aa3ddd1c65e3a">ACAPI_MenuItem_InstallMenuHandler</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_InstallMenuHandler(short menuStrResID, APIMenuCommandProc *handlerProc)</div><div class="ttdoc">Installs a callback procedure for handling the add-on's menu commands.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gabee245113d865f04a9f228344e9c4452" name="gabee245113d865f04a9f228344e9c4452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabee245113d865f04a9f228344e9c4452">&#9670;&#160;</a></span>ACAPI_MenuItem_RegisterMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_RegisterMenu </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>menuStrResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>promptStrResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___menu_item.html#gae7782179a03e5a2f34a4940b46b86623">APIMenuCodeID</a>&#160;</td>
          <td class="paramname"><em>menuPosCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSFlags&#160;</td>
          <td class="paramname"><em>menuFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers the menu items of the add-on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuStrResID</td><td>[in] The resource ID of the menu resource, which should be in the resource fork of the add-on. </td></tr>
    <tr><td class="paramname">promptStrResID</td><td>[in] The resource ID of the propmt string resource, which should be in the resource fork of the add-on. These strings appear in the status bar. </td></tr>
    <tr><td class="paramname">menuPosCode</td><td>[in] Defines the server application's menu to insert the command into. </td></tr>
    <tr><td class="paramname">menuFlags</td><td>[in] Flags describing whether you would like to see any separator item in the menu before or after the registered menu item. Its possible values are: MenuFlag_Default, MenuFlag_SeparatorBefore, and MenuFlag_SeparatorAfter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function should be called from the RegisterInterface routine in your add-on. You can register more than one menu from the same add-on, even appearing in different menus of the server application. The supplied menuStrResID parameter should be the same in the <a class="el" href="group___menu_item.html#gaa7d3015c673c847c917aa3ddd1c65e3a">ACAPI_MenuItem_InstallMenuHandler</a> function, which you have to call from your Initialize routine. The following scenarios are possible:<ul>
<li>the add-on inserts one menu item at the position defined by menuPosCode 'STR#' 32500 "Menu Description" { / [ 1] / "My add-on's solo menuitem" }</li>
<li>the add-on inserts a submenu at the position defined by menuPosCode 'STR#' 32501 "Menu Description" { / [ 1] / "My add-on's submenu" / [ 2] / "My add-on's menuitem #1" / [ 3] / "My add-on's menuitem #2" }</li>
<li>the add-on inserts its own main menu; menuPosCode should be MenuCode_UserDef 'STR#' 32502 "Menu Description" { / [ 1] / "My add-on's main menu" / [ 2] / "My add-on's solo menuitem" }</li>
<li>the add-on inserts its own main menu with a submenu; menuPosCode should be MenuCode_UserDef 'STR#' 32503 "Menu Description" { / [ 1] / "My add-on's main menu" / [ 2] / "My add-on's submenu" / [ 3] / "My add-on's menuitem #1" / [ 4] / "My add-on's menuitem #2" } As you see, the add-on may define its own main menu, if it uses MenuCode_UserDef and the menu position. In this case the first item in the STR# resource will be the title of the main menu, and the other items correspond to the menu items in the non-main menu case. If this first item is the same as one of the server application's main menu titles, then the API won't open a new main menu, rather it inserts the add-on's menu into the original main menu, as defined by the rules for that menu. This also means if you use an already existing menu title (e.g. Window) which doesn't have an insertion place for add-ons, your add-on's menu won't appear. This implies that the location of the add-on within the Add-Ons folder doesn't have any impact on the menu position of your add-on's commands. The appearance of menu items can be controlled by control codes appended to the menu item string resource as described in the Required Resources section. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">In the GRC file:</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaeb9ecb5cedbeec24026c4c50fbdb2d7a" name="gaeb9ecb5cedbeec24026c4c50fbdb2d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb9ecb5cedbeec24026c4c50fbdb2d7a">&#9670;&#160;</a></span>ACAPI_MenuItem_SetMenuItemFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_SetMenuItemFlags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *&#160;</td>
          <td class="paramname"><em>menuItemRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSFlags *&#160;</td>
          <td class="paramname"><em>itemFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *&#160;</td>
          <td class="paramname"><em>menuItemText</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the flag values of the specified menu item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuItemRef</td><td>[in] Identifies the menu item. </td></tr>
    <tr><td class="paramname">itemFlags</td><td>[in] Menu item flags. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Flag Value   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_MenuItemDisabled   </td><td class="markdownTableBodyNone">Disable the menu item    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_MenuItemChecked   </td><td class="markdownTableBodyNone">Check the menu item   </td></tr>
</table>
</td></tr>
    <tr><td class="paramname">menuItemText</td><td>[in] Optional Unicode menu item text to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - any of the parameters are nullptr</li>
<li>APIERR_BADINDEX - the specified menu item does not belong to the caller add-on </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to set the current status of a menu item which belongs to the caller API tool add-on. The menu item is referenced with the resource ID and the string number. To get the current status of a menu item use the <a class="el" href="group___menu_item.html#ga85b9aceb79f5ef14d1823b1cf0e8113b">ACAPI_MenuItem_GetMenuItemFlags</a> function. Note that the initial status of a menu item can also be set in the menu item string resources of the add-on. Refer to the STR# specification explained in the Required Resources paper in details. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// Checkmark a menu item of the addon</span></div>
<div class="line"><span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span>             CheckACMenuItem (<span class="keywordtype">short</span> itemInd, <span class="keywordtype">bool</span> checked)</div>
<div class="line">{</div>
<div class="line">        <a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> itemRef;</div>
<div class="line">        GSFlags         itemFlags;</div>
<div class="line"> </div>
<div class="line">        BNZeroMemory (&amp;itemRef, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a>));</div>
<div class="line">        itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#a77572c26da12a391e9aafa6977eb0601">menuResID</a> = 32500;</div>
<div class="line">        itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#aea355492c965e098bba0727ec946ff99">itemIndex</a> = itemInd;</div>
<div class="line"> </div>
<div class="line">        itemFlags = 0;</div>
<div class="line">        ACAPI_Interface (APIIo_GetMenuItemFlagsID, &amp;itemRef, &amp;itemFlags);</div>
<div class="line">        <span class="keywordflow">if</span> (checked)</div>
<div class="line">                itemFlags |= API_MenuItemChecked;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">                itemFlags &amp;= ~API_MenuItemChecked;</div>
<div class="line">        ACAPI_Interface (APIIo_SetMenuItemFlagsID, &amp;itemRef, &amp;itemFlags);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">}               <span class="comment">// CheckACMenuItem</span></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga8868053a94017aef089960b1b543dd6b" name="ga8868053a94017aef089960b1b543dd6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8868053a94017aef089960b1b543dd6b">&#9670;&#160;</a></span>ACAPI_MenuItem_SetMenuItemText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_MenuItem_SetMenuItemText </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a> *&#160;</td>
          <td class="paramname"><em>menuItemRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>itemText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *&#160;</td>
          <td class="paramname"><em>itemUniText</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the text of the specified menu item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuItemRef</td><td>[in] Identifies the menu item. </td></tr>
    <tr><td class="paramname">itemText</td><td>[in] Menu item text to set (if you don't pass itemUniText). </td></tr>
    <tr><td class="paramname">itemUniText</td><td>[in] Optional Unicode menu item text to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - menuItemRef or both itemText and itemUniText are nullptr</li>
<li>APIERR_BADINDEX - the specified menu item does not belong to the caller add-on </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to set the text of a menu item which belongs to the caller API tool add-on. The menu item is referenced with the resource ID and the string number. To get the current text of a menu item use the <a class="el" href="group___menu_item.html#gac8bbd0ce75648f38bf2da8ba78390d03">ACAPI_MenuItem_GetMenuItemText</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span>    SetPaletteMenuText (<span class="keywordtype">short</span> paletteItemInd, <span class="keywordtype">bool</span> paletteIsVisible)</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a>     itemRef;</div>
<div class="line">    GS::UniString       itemStr;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (paletteIsVisible)</div>
<div class="line">        itemStr.Append (<span class="stringliteral">&quot;Hide Palette&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        itemStr.Append (<span class="stringliteral">&quot;Show Palette&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    BNZeroMemory (&amp;itemRef, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___menu_item_ref.html">API_MenuItemRef</a>));</div>
<div class="line">    itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#a77572c26da12a391e9aafa6977eb0601">menuResID</a> = 32500;</div>
<div class="line">    itemRef.<a class="code hl_variable" href="struct_a_p_i___menu_item_ref.html#aea355492c965e098bba0727ec946ff99">itemIndex</a> = paletteItemInd;</div>
<div class="line">    ACAPI_Interface (APIIo_SetMenuItemTextID, &amp;itemRef, <span class="keyword">nullptr</span>, itemStr);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>


</body>
</html>
