<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Archicad C++ API: Add-On Preferences</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>



<link href="doxygen.css" rel="stylesheet" type="text/css" />

</head>
<body>


<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  
  
  <td id="projectalign">
   <div id="projectname">Archicad C++ API
   </div>
   
  </td>
  
  
  
 </tr>
  
   
  
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___preferences.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Add-On Preferences</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for creating, handling and deleting custom (Add-On specific) preferences, which get stored in the project file. Useful for storing Work Environment settings or some inner states of the Add-On which can be read at the next opening of the project.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga46146dab02b0a35f4adb2d19bef84db9"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preferences.html#ga46146dab02b0a35f4adb2d19bef84db9">ACAPI_SetPreferences</a> (Int32 version, GSSize nByte, const void *data)</td></tr>
<tr class="memdesc:ga46146dab02b0a35f4adb2d19bef84db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves custom preferences data into the preferences file.  <br /></td></tr>
<tr class="separator:ga46146dab02b0a35f4adb2d19bef84db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fde0f59e3e27016d58cb7d6bc2ed9d0"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a> (Int32 *version, GSSize *nByte, void *data)</td></tr>
<tr class="memdesc:ga8fde0f59e3e27016d58cb7d6bc2ed9d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the stored preferences of the add-on.  <br /></td></tr>
<tr class="separator:ga8fde0f59e3e27016d58cb7d6bc2ed9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf081771c9782e85fc423d59fe0f38972"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preferences.html#gaf081771c9782e85fc423d59fe0f38972">ACAPI_Preferences_Platform</a> (Int32 *version, GSSize *nByte, void *data, unsigned short *platformSign)</td></tr>
<tr class="memdesc:gaf081771c9782e85fc423d59fe0f38972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the stored preferences of the add-on.  <br /></td></tr>
<tr class="separator:gaf081771c9782e85fc423d59fe0f38972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51e54291d094708bf8cb73b6c4105df6"><td class="memItemLeft" align="right" valign="top">__APIEXPORT GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___preferences.html#ga51e54291d094708bf8cb73b6c4105df6">ACAPI_Preferences_OldVersion</a> (Int32 version, GSSize nByte, const void *data, unsigned short platformSign, <a class="el" href="group___project_operation.html#gaf7e72c240d18c9af9200eada2ef2944b">API_FTypeID</a> oldPlanFileID)</td></tr>
<tr class="memdesc:ga51e54291d094708bf8cb73b6c4105df6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines custom preferences data to be saved into older project file versions.  <br /></td></tr>
<tr class="separator:ga51e54291d094708bf8cb73b6c4105df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for creating, handling and deleting custom (Add-On specific) preferences, which get stored in the project file. Useful for storing Work Environment settings or some inner states of the Add-On which can be read at the next opening of the project. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8fde0f59e3e27016d58cb7d6bc2ed9d0" name="ga8fde0f59e3e27016d58cb7d6bc2ed9d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">&#9670;&#160;</a></span>ACAPI_GetPreferences()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_GetPreferences </td>
          <td>(</td>
          <td class="paramtype">Int32 *&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSSize *&#160;</td>
          <td class="paramname"><em>nByte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the stored preferences of the add-on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>[out] On return contains the version of the stored preferences, or 0 if no preferences were found. </td></tr>
    <tr><td class="paramname">nByte</td><td>[out] On return contains the size of the stored preferences in bytes, or 0 if no preferences were found. </td></tr>
    <tr><td class="paramname">data</td><td>[in/out] On return contains the stored preferences. This parameter can be nullptr. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - For common API errors see the API Errors document. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>(1) You can retrieve the stored preferences of your add-on. This information was previously passed onto the add-on as a parameter of the DoCommand function. (2) Setting the last parameter to nullptr means the API will return only the version number and the size of the preferences data. If the size or the version number is 0, then no preferences were stored. (3) Version information can be used to convert older preferences to the current format. In Archicad use <a class="el" href="group___preferences.html#gaf081771c9782e85fc423d59fe0f38972">ACAPI_Preferences_Platform</a> instead of <a class="el" href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a> in order to get the platform identifier of the preferences data. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">    Int32       version;</div>
<div class="line">    GSSize      nBytes;</div>
<div class="line">    GSPtr       pref;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a> (&amp;version, &amp;nBytes, <span class="keyword">nullptr</span>);             <span class="comment">// (2) get version and size</span></div>
<div class="line">    <span class="keywordflow">if</span> (version == MY_PREFERENCES_VERSION) {                    <span class="comment">// (3) check version</span></div>
<div class="line">        pref = BMAllocatePtr (nBytes, ALLOCATE_CLEAR, 0);       <span class="comment">// allocate memory for preferences</span></div>
<div class="line">        <span class="keywordflow">if</span> (pref != <span class="keyword">nullptr</span>) {</div>
<div class="line">            <a class="code hl_function" href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a> (&amp;version, &amp;nBytes, pref);     <span class="comment">// get actual preferences</span></div>
<div class="line">            <span class="comment">// do something with the preferences data</span></div>
<div class="line"> </div>
<div class="line">            BMKillPtr (&amp;pref);                                  <span class="comment">// dispose allocated pointer</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="ttc" id="agroup___preferences_html_ga8fde0f59e3e27016d58cb7d6bc2ed9d0"><div class="ttname"><a href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_GetPreferences(Int32 *version, GSSize *nByte, void *data)</div><div class="ttdoc">Returns the stored preferences of the add-on.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga51e54291d094708bf8cb73b6c4105df6" name="ga51e54291d094708bf8cb73b6c4105df6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51e54291d094708bf8cb73b6c4105df6">&#9670;&#160;</a></span>ACAPI_Preferences_OldVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Preferences_OldVersion </td>
          <td>(</td>
          <td class="paramtype">Int32&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSSize&#160;</td>
          <td class="paramname"><em>nByte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>platformSign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___project_operation.html#gaf7e72c240d18c9af9200eada2ef2944b">API_FTypeID</a>&#160;</td>
          <td class="paramname"><em>oldPlanFileID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines custom preferences data to be saved into older project file versions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>[in] The version of the data to be stored. </td></tr>
    <tr><td class="paramname">nByte</td><td>[in] The size of the data to be stored. </td></tr>
    <tr><td class="paramname">data</td><td>[in] The preferences data you would like to store for the specified plan version. </td></tr>
    <tr><td class="paramname">platformSign</td><td>[in] The platform identifier of the data (GS::Win_Platform_Sign, GS::Mac_Platform_Sign, GS::Mactel_Platform_Sign </td></tr>
    <tr><td class="paramname">oldPlanFileID</td><td>[in] The plan file format associated with the preferences data when saving the project into this plan version. The value of this parameter can be: </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - For common API errors see the API Errors document. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to save your own options or preferences into the preferences file of the server application or into the project file to be saved. This information can be later retrieved with <a class="el" href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a> and <a class="el" href="group___preferences.html#gaf081771c9782e85fc423d59fe0f38972">ACAPI_Preferences_Platform</a>. You can define different preferences to be saved into different plan file formats. Use this function if your add-on had incompatible preferences format in the previous versions of Archicad. Store the data in that format too indicating which plan version should use it. When the user chooses to save the plan into an older plan format, the appropriate preferences data will be stored. For more details see the Saving Add-On data into the Preferences and the Project File section. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keyword">const</span> Int32 ActVersion = 3;</div>
<div class="line"><span class="keyword">const</span> Int32 Version_in_AC8 = 2;</div>
<div class="line"><span class="keyword">const</span> Int32 Version_in_AC7 = 1;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>MyPrefs          prefsData;</div>
<div class="line"><span class="keyword">struct </span>MyPrefs_in_AC8   dataForAC8;</div>
<div class="line"><span class="keyword">struct </span>MyPrefs_in_AC7   dataForAC7;</div>
<div class="line"><span class="comment">// construct the preferences data...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// store the actual preferences</span></div>
<div class="line"><a class="code hl_function" href="group___preferences.html#ga46146dab02b0a35f4adb2d19bef84db9">ACAPI_SetPreferences</a> (ActVersion, <span class="keyword">sizeof</span> (MyPrefs), &amp;prefsData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// specify preferences to be saved into older plan file versions</span></div>
<div class="line"><a class="code hl_function" href="group___preferences.html#ga51e54291d094708bf8cb73b6c4105df6">ACAPI_Preferences_OldVersion</a> (Version_in_AC8, <span class="keyword">sizeof</span> (MyPrefs_in_AC8), &amp;dataForAC8, GS::Act_Platform_Sign, APIFType_PlanFile800);</div>
<div class="line"><a class="code hl_function" href="group___preferences.html#ga51e54291d094708bf8cb73b6c4105df6">ACAPI_Preferences_OldVersion</a> (Version_in_AC7, <span class="keyword">sizeof</span> (MyPrefs_in_AC7), &amp;dataForAC7, GS::Act_Platform_Sign, APIFType_PlanFile700);</div>
<div class="ttc" id="agroup___preferences_html_ga46146dab02b0a35f4adb2d19bef84db9"><div class="ttname"><a href="group___preferences.html#ga46146dab02b0a35f4adb2d19bef84db9">ACAPI_SetPreferences</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_SetPreferences(Int32 version, GSSize nByte, const void *data)</div><div class="ttdoc">Saves custom preferences data into the preferences file.</div></div>
<div class="ttc" id="agroup___preferences_html_ga51e54291d094708bf8cb73b6c4105df6"><div class="ttname"><a href="group___preferences.html#ga51e54291d094708bf8cb73b6c4105df6">ACAPI_Preferences_OldVersion</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Preferences_OldVersion(Int32 version, GSSize nByte, const void *data, unsigned short platformSign, API_FTypeID oldPlanFileID)</div><div class="ttdoc">Defines custom preferences data to be saved into older project file versions.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaf081771c9782e85fc423d59fe0f38972" name="gaf081771c9782e85fc423d59fe0f38972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf081771c9782e85fc423d59fe0f38972">&#9670;&#160;</a></span>ACAPI_Preferences_Platform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Preferences_Platform </td>
          <td>(</td>
          <td class="paramtype">Int32 *&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSSize *&#160;</td>
          <td class="paramname"><em>nByte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>platformSign</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the stored preferences of the add-on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>[out] On return contains the version of the stored preferences, or 0 if no preferences were found. </td></tr>
    <tr><td class="paramname">nByte</td><td>[out] On return contains the size of the stored preferences in bytes, or 0 if no preferences were found. </td></tr>
    <tr><td class="paramname">data</td><td>[in/out] On return contains the stored preferences. </td></tr>
    <tr><td class="paramname">platformSign</td><td>[out] On return contains the platform identifier of the stored preferences. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - For common API errors see the API Errors document. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Use this function to retrieve the preferences data stored into the preferences or the plan file currently opened. The preferences could have been saved into the plan on the other platform; in this case it is your responsibility to convert data structures stored in opposite byte order. All the parameters can be nullptr. The data pointer should be allocated and disposed by the add-on, thus first you should call this function to retrieve only the version number and the size of the preferences data. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">Int32           version = 0;</div>
<div class="line">GSSize          nBytes = 0;</div>
<div class="line">GSPtr           pref;</div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  platformSign = GS::Act_Platform_Sign;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group___preferences.html#gaf081771c9782e85fc423d59fe0f38972">ACAPI_Preferences_Platform</a> (&amp;version, &amp;nBytes, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);      <span class="comment">// get version and size</span></div>
<div class="line"><span class="keywordflow">if</span> (version == MY_PREFERENCES_VERSION) {                            <span class="comment">// check version</span></div>
<div class="line">    pref = BMAllocatePtr (nBytes, ALLOCATE_CLEAR, 0);               <span class="comment">// allocate memory for preferences</span></div>
<div class="line">    <span class="keywordflow">if</span> (pref != <span class="keyword">nullptr</span>) {</div>
<div class="line">        <a class="code hl_function" href="group___preferences.html#gaf081771c9782e85fc423d59fe0f38972">ACAPI_Preferences_Platform</a> (&amp;version, &amp;nBytes, pref, &amp;platformSign);     <span class="comment">// get actual preferences</span></div>
<div class="line">        <span class="keywordflow">if</span> (platformSign != GS::Act_Platform_Sign) {</div>
<div class="line">            <span class="comment">// swap the necessary bytes</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// do something with the preferences data</span></div>
<div class="line">        BMKillPtr (&amp;pref);                                          <span class="comment">// dispose the allocated pointer</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___preferences_html_gaf081771c9782e85fc423d59fe0f38972"><div class="ttname"><a href="group___preferences.html#gaf081771c9782e85fc423d59fe0f38972">ACAPI_Preferences_Platform</a></div><div class="ttdeci">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_Preferences_Platform(Int32 *version, GSSize *nByte, void *data, unsigned short *platformSign)</div><div class="ttdoc">Returns the stored preferences of the add-on.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga46146dab02b0a35f4adb2d19bef84db9" name="ga46146dab02b0a35f4adb2d19bef84db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46146dab02b0a35f4adb2d19bef84db9">&#9670;&#160;</a></span>ACAPI_SetPreferences()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__APIEXPORT GSErrCode __ACENV_CALL ACAPI_SetPreferences </td>
          <td>(</td>
          <td class="paramtype">Int32&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSSize&#160;</td>
          <td class="paramname"><em>nByte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves custom preferences data into the preferences file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>[in] The version of the data to be stored. </td></tr>
    <tr><td class="paramname">nByte</td><td>[in] The size of the data to be stored. </td></tr>
    <tr><td class="paramname">data</td><td>[in] The preferences data you would like to store. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to save your own options or preferences into the preferences file of the server application, and can be later retrieved with <a class="el" href="group___preferences.html#ga8fde0f59e3e27016d58cb7d6bc2ed9d0">ACAPI_GetPreferences</a>. If you store incompatible versions of preferences data in different Archicad releases, use the <a class="el" href="group___preferences.html#ga51e54291d094708bf8cb73b6c4105df6">ACAPI_Preferences_OldVersion</a> function to define preferences to be saved into the older project file formats. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>


</body>
</html>
